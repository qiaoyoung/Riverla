
#import <Foundation/Foundation.h>

NSString *StringFromWenData(Byte *data);        


//: 10004
Byte kStr_publicityBoringData[] = {97, 5, 74, 7, 117, 74, 88, 231, 230, 230, 230, 234, 57};


//: DeviceName
Byte kStr_comingGroupData[] = {44, 10, 10, 12, 82, 56, 7, 158, 50, 74, 107, 199, 58, 91, 108, 95, 89, 91, 68, 87, 99, 91, 170};


//: spa
Byte kStr_cookieName[] = {18, 3, 8, 7, 207, 236, 131, 107, 104, 89, 178};


//: 668796b6940d5a4c4982f056
Byte kStr_peelData[] = {85, 24, 58, 10, 5, 239, 116, 96, 239, 188, 252, 252, 254, 253, 255, 252, 40, 252, 255, 250, 246, 42, 251, 39, 250, 41, 250, 255, 254, 248, 44, 246, 251, 252, 81};


//: friend_verify_avtivity_net_error
Byte kStr_keyFrameTitle[] = {96, 32, 85, 12, 106, 14, 119, 28, 2, 182, 135, 196, 17, 29, 20, 16, 25, 15, 10, 33, 16, 29, 20, 17, 36, 10, 12, 33, 31, 20, 33, 20, 31, 36, 10, 25, 16, 31, 10, 16, 29, 29, 26, 29, 152};


//: link-sg.netease.im:7000
Byte kStr_latterData[] = {4, 23, 64, 7, 37, 229, 60, 44, 41, 46, 43, 237, 51, 39, 238, 46, 37, 52, 37, 33, 51, 37, 238, 41, 45, 250, 247, 240, 240, 240, 223};


//: 自动登录失败
Byte kStr_counterpartDisableCousinData[] = {65, 18, 8, 13, 255, 253, 182, 186, 242, 230, 19, 209, 21, 224, 127, 162, 221, 130, 160, 223, 145, 179, 221, 181, 141, 221, 156, 169, 224, 172, 157, 221};


//: isclear
Byte kStr_normalFleshText[] = {87, 7, 23, 13, 148, 99, 108, 135, 101, 168, 75, 240, 149, 82, 92, 76, 85, 78, 74, 91, 98};


//: islogin
Byte kStr_documentaryMessageCaptainContent[] = {3, 7, 38, 6, 98, 10, 67, 77, 70, 73, 65, 67, 72, 156};


//: app_nshow
Byte kStr_depressGrocerSpecificName[] = {48, 9, 36, 6, 110, 37, 61, 76, 76, 59, 74, 79, 68, 75, 83, 212};


//: https://lbs.netease.im/lbs/conf.jsp
Byte kStr_sinceTitle[] = {72, 35, 41, 12, 172, 200, 11, 50, 190, 254, 188, 249, 63, 75, 75, 71, 74, 17, 6, 6, 67, 57, 74, 5, 69, 60, 75, 60, 56, 74, 60, 5, 64, 68, 6, 67, 57, 74, 6, 58, 70, 69, 61, 5, 65, 74, 71, 254};


//: code
Byte kStr_beefKickTitle[] = {15, 4, 84, 9, 188, 16, 227, 20, 17, 15, 27, 16, 17, 227};


//: activity_tag_go_set
Byte kStr_lowerValue[] = {53, 19, 65, 14, 39, 28, 118, 131, 186, 193, 115, 227, 89, 201, 32, 34, 51, 40, 53, 40, 51, 56, 30, 51, 32, 38, 30, 38, 46, 30, 50, 36, 51, 15};


//: zh-Hant
Byte kStr_ablyName[] = {9, 7, 20, 14, 167, 89, 135, 153, 29, 204, 171, 111, 93, 6, 102, 84, 25, 52, 77, 90, 96, 29};


//: hant
Byte kStr_mergingName[] = {9, 4, 14, 6, 200, 216, 90, 83, 96, 102, 163};


//: msg
Byte kStr_desireAblyTitle[] = {48, 3, 70, 4, 39, 45, 33, 214};


//: langType : %@
Byte kStr_sumpCapabilityContent[] = {84, 13, 21, 4, 87, 76, 89, 82, 63, 100, 91, 80, 11, 37, 11, 16, 43, 210};


//: NTESNotificationLogout
Byte kStr_peaPaleValue[] = {36, 22, 50, 9, 242, 116, 3, 117, 250, 28, 34, 19, 33, 28, 61, 66, 55, 52, 55, 49, 47, 66, 55, 61, 60, 26, 61, 53, 61, 67, 66, 14};


//: ini
Byte kStr_discloseDayWidespreadTitle[] = {72, 3, 3, 7, 97, 145, 114, 102, 107, 102, 238};


//: act
Byte kStr_keyValueName[] = {36, 3, 10, 13, 203, 194, 118, 44, 194, 89, 7, 253, 205, 87, 89, 106, 28};


//: 请开启推送功能否则无法收到推送通知
Byte kStr_givenValue[] = {19, 51, 36, 9, 85, 63, 43, 116, 93, 196, 139, 147, 193, 152, 92, 193, 108, 139, 194, 106, 132, 197, 92, 93, 193, 102, 123, 196, 95, 153, 193, 108, 130, 193, 100, 117, 194, 115, 124, 194, 143, 113, 194, 112, 146, 193, 100, 140, 194, 106, 132, 197, 92, 93, 197, 92, 118, 195, 123, 129, 50};


//: contact_tag_fragment_sure
Byte kStr_sueValue[] = {36, 25, 58, 14, 217, 161, 3, 226, 129, 11, 91, 7, 81, 225, 41, 53, 52, 58, 39, 41, 58, 37, 58, 39, 45, 37, 44, 56, 39, 45, 51, 43, 52, 58, 37, 57, 59, 56, 43, 208};


//: app
Byte kStr_gradContent[] = {95, 3, 74, 14, 13, 133, 205, 46, 211, 68, 104, 23, 195, 216, 23, 38, 38, 57};


//: 6a845f0dd8
Byte kStr_coachTitle[] = {37, 10, 28, 12, 164, 54, 108, 170, 204, 79, 54, 165, 26, 69, 28, 24, 25, 74, 20, 72, 72, 28, 9};


//: /other/setClearStatus
Byte kStr_pokeData[] = {56, 21, 32, 8, 187, 110, 106, 129, 15, 79, 84, 72, 69, 82, 15, 83, 69, 84, 35, 76, 69, 65, 82, 51, 84, 65, 84, 85, 83, 14};


//: zh-Hans-US
Byte kStr_seasonPlanetData[] = {43, 10, 56, 6, 203, 18, 66, 48, 245, 16, 41, 54, 59, 245, 29, 27, 216};


//: activity_comment_setting_cancel_account
Byte kStr_statusNameText[] = {39, 39, 18, 8, 61, 248, 62, 83, 79, 81, 98, 87, 100, 87, 98, 103, 77, 81, 93, 91, 91, 83, 92, 98, 77, 97, 83, 98, 98, 87, 92, 85, 77, 81, 79, 92, 81, 83, 90, 77, 79, 81, 81, 93, 99, 92, 98, 231};


//: contact_tag_fragment_cancel
Byte kStr_grainValue[] = {34, 27, 74, 10, 74, 118, 158, 63, 128, 20, 25, 37, 36, 42, 23, 25, 42, 21, 42, 23, 29, 21, 28, 40, 23, 29, 35, 27, 36, 42, 21, 25, 23, 36, 25, 27, 34, 144};

// __DEBUG__
// __CLOSE_PRINT__

// __M_A_C_R_O__
//: #import "AppDelegate.h"
#import "AppDelegate.h"
//: #import "FFFLoginViewController.h"
#import "LengthViewController.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "NTESNotificationCenter.h"
#import "BottomRecent.h"
//: #import "FFFConfig.h"
#import "ButtonConfig.h"
//: #import "NTESSessionUtil.h"
#import "ArrayUtil.h"
//: #import "NTESMainTabController.h"
#import "OperationBarController.h"
//: #import "CCCLoginManager.h"
#import "FrameManager.h"
//: #import "NTESCustomAttachmentDecoder.h"
#import "StopSize.h"
//: #import "NTESClientUtil.h"
#import "ClientShowHide.h"
//: #import "NTESNotificationCenter.h"
#import "BottomRecent.h"
//: #import "MyUserKit.h"
#import "Afterwards.h"
//: #import "NTESSDKConfigDelegate.h"
#import "ItemThan.h"
//: #import "NTESCellLayoutConfig.h"
#import "ActivityLayoutConfig.h"
//: #import "NTESSubscribeManager.h"
#import "ImageColor.h"
//: #import "NTESBundleSetting.h"
#import "SayImage.h"
//: #import <UserNotifications/UserNotifications.h>
#import <UserNotifications/UserNotifications.h>
//: #import "TZLocationManager.h"
#import "TZLocationManager.h"
//: #import "NTESDbExceptionHandler.h"
#import "KeyHandler.h"
//: #import "NTESBundleSetting.h"
#import "SayImage.h"
//: #import <SVProgressHUD/SVProgressHUD.h>
#import <SVProgressHUD/SVProgressHUD.h>
//: #import <UserNotifications/UserNotifications.h>
#import <UserNotifications/UserNotifications.h>
//: #import <IQKeyboardManager/IQKeyboardManager.h>
#import <IQKeyboardManager/IQKeyboardManager.h>
//: #import <Bugly/Bugly.h>
#import <Bugly/Bugly.h>
//: #import "LEEAlert.h"
#import "GraduateTemp.h"
//: #import "UIAlertView+NTESBlock.h"
#import "UIAlertView+Hide.h"
//: #import <objc/runtime.h>
#import <objc/runtime.h>
//: #import "TYLNoticeRequest.h"
#import "DiscoverPopRequest.h"
//: #import "FFFKitDevice.h"
#import "TableDevice.h"
//: #import <UMCommon/UMCommon.h>
#import <UMCommon/UMCommon.h>
//: #import <UMCommon/MobClick.h>
#import <UMCommon/MobClick.h>
//: #import <UMAPM/UMCrashConfigure.h>
#import <UMAPM/UMCrashConfigure.h>
//: #import <UMAPM/UMLaunch.h>
#import <UMAPM/UMLaunch.h>
//: #import <UMAPM/UMAPMConfig.h>
#import <UMAPM/UMAPMConfig.h>
//: #import "Reachability.h"
#import "Reachability.h"
//: #import <Network/Network.h>
#import <Network/Network.h>

 //
//  AppDelegate.m
//  NIMDemo
//
//  Created by ght on 15-1-21.
//  Copyright (c) 2015年 Netease. All rights reserved.
//
//#import "JPUSHService.h"
//: NSString *NTESNotificationLogout = @"NTESNotificationLogout";
NSString *kLet_managerValue = @"NTESNotificationLogout";
//: @interface AppDelegate ()<NIMLoginManagerDelegate>
@interface AppDelegate ()<NIMLoginManagerDelegate>

//: @property (nonatomic,strong) NTESSDKConfigDelegate *sdkConfigDelegate;
@property (nonatomic,strong) ItemThan *sdkConfigDelegate;

//: @property (nonatomic,strong) UIImageView *imgAvater;
@property (nonatomic,strong) UIImageView *imgAvater;
//: @property (nonatomic,strong) UILabel *labUser;
@property (nonatomic,strong) UILabel *labUser;
//: @property (nonatomic,strong) UIButton *btnAccept;
@property (nonatomic,strong) UIButton *btnAccept;
//: @property (nonatomic,strong) UIButton *btnReject;
@property (nonatomic,strong) UIButton *btnReject;

//: @end
@end

//: @implementation AppDelegate
@implementation AppDelegate


//: - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    // 检查并更新域名
        //: [[FFFConfig sharedConfig] fetchLatestDomainWithCompletion:^(BOOL success) {
        [[ButtonConfig inputConfig] language:^(BOOL success) {
            //: if (success) {
            if (success) {
                //: NSLog(@"域名更新成功: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
            //: } else {
            } else {
                //: NSLog(@"使用默认域名: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
            }
        //: }];
        }];


//    [TYLBanCapturePackage disableHttpProxy];

    //: NSLog(@"UMAPM version:%@",[UMCrashConfigure getVersion]);

    //: [UMConfigure setLogEnabled:NO];
    [UMConfigure setLogEnabled:NO];
    //: UMAPMConfig* umconfig = [UMAPMConfig defaultConfig];
    UMAPMConfig* umconfig = [UMAPMConfig defaultConfig];
    //: umconfig.networkEnable = YES;
    umconfig.networkEnable = YES;
    //: [UMCrashConfigure setAPMConfig:umconfig];
    [UMCrashConfigure setAPMConfig:umconfig];
    //: [UMConfigure initWithAppkey:@"668796b6940d5a4c4982f056" channel:nil];
    [UMConfigure initWithAppkey:StringFromWenData(kStr_peelData) channel:nil];
    //: [MobClick setAutoPageEnabled:YES];
    [MobClick setAutoPageEnabled:YES];

    //: [self configIQKeyboardManager];
    [self scale];

    //: [Bugly startWithAppId:@"6a845f0dd8"];
    [Bugly startWithAppId:StringFromWenData(kStr_coachTitle)];
    //: NSString *deviceName = [UIDevice currentDevice].name;
    NSString *deviceName = [UIDevice currentDevice].name;
    //: if (deviceName.length > 0) {
    if (deviceName.length > 0) {
        //: [Bugly setUserValue:deviceName forKey:@"DeviceName"];
        [Bugly setUserValue:deviceName forKey:StringFromWenData(kStr_comingGroupData)];
    }

//    if (@available(iOS 13.0, *)) {
//        [[TZLocationManager manager] startLocation];//sdk 获取wifi信息需要使用
//    }

    //: if ([NIMUserDefaults standardUserDefaults].language && [NIMUserDefaults standardUserDefaults].language.length > 0) {
    if ([PhotoDefaults ting].language && [PhotoDefaults ting].language.length > 0) {
        //: [[NIMUserDefaults standardUserDefaults] updateLanguageWith:[NIMUserDefaults standardUserDefaults].language];
        [[PhotoDefaults ting] date:[PhotoDefaults ting].language];
    //: } else {
    } else {
        //: [self requestLanguage];
        [self voice];
    }

    //: [SVProgressHUD setDefaultStyle:SVProgressHUDStyleDark];
    [SVProgressHUD setDefaultStyle:SVProgressHUDStyleDark];
    //: [SVProgressHUD setMinimumDismissTimeInterval:2];
    [SVProgressHUD setMinimumDismissTimeInterval:2];
    //: [SVProgressHUD setDefaultMaskType:(SVProgressHUDMaskTypeClear)];
    [SVProgressHUD setDefaultMaskType:(SVProgressHUDMaskTypeClear)];

    //: [self setupNetworkObserver];
    [self color];

    //: [self setupNIMSDK];
    [self scrubNimsdk];
    //: [self setupServices];
    [self image];

    //: [self registerPushService];
    [self doingArray];
    //: [self commonInitListenEvents];
    [self change];

    //: self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    //: [self.window makeKeyAndVisible];
    [self.window makeKeyAndVisible];
//    [application setStatusBarStyle:UIStatusBarStyleLightContent];

    //: [self setupMainViewController];
    [self drawAwayController];

//    [self initTimer];
//    [self performSelector:@selector(initTimer) withObject:nil afterDelay:2];

    //: return YES;
    return YES;
}

//: - (void)setupNetworkObserver {
- (void)color {
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(networkChanged:)
                                             selector:@selector(toing:)
                                                 //: name:kReachabilityChangedNotification
                                                 name:kReachabilityChangedNotification
                                               //: object:nil];
                                               object:nil];
    //: Reachability *reachability = [Reachability reachabilityForInternetConnection];
    Reachability *reachability = [Reachability reachabilityForInternetConnection];
    //: [reachability startNotifier];
    [reachability startNotifier];

    // 初始检查
       //: [self checkLocalNetworkPermission];
       [self session];
}

//: - (void)networkChanged:(NSNotification *)note {
- (void)toing:(NSNotification *)note {
    //: Reachability *reachability = [note object];
    Reachability *reachability = [note object];
    //: if ([reachability currentReachabilityStatus] != NotReachable) {
    if ([reachability currentReachabilityStatus] != NotReachable) {
        //: [[FFFConfig sharedConfig] fetchLatestDomainWithCompletion:^(BOOL success) {
        [[ButtonConfig inputConfig] language:^(BOOL success) {
            //: if (success) {
            if (success) {
                //: NSLog(@"域名更新成功: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
            //: } else {
            } else {
                //: NSLog(@"使用默认域名: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
            }
        //: }]; 
        }]; // 网络恢复时更新域名
    }
}

//: - (void)checkLocalNetworkPermission {
- (void)session {
    //: if (@available(iOS 14.0, *)) {
    if (@available(iOS 14.0, *)) {
        //: nw_endpoint_t endpoint = nw_endpoint_create_host("224.0.0.251", "5353");
        nw_endpoint_t endpoint = nw_endpoint_create_host("224.0.0.251", "5353");
        //: nw_parameters_t parameters = nw_parameters_create_secure_udp(
        nw_parameters_t parameters = nw_parameters_create_secure_udp(
            //: (_nw_parameters_configure_protocol_disable),
            (_nw_parameters_configure_protocol_disable),
            //: (_nw_parameters_configure_protocol_default_configuration)
            (_nw_parameters_configure_protocol_default_configuration)
        //: );
        );

        //: nw_connection_t connection = nw_connection_create(endpoint, parameters);
        nw_connection_t connection = nw_connection_create(endpoint, parameters);
        //: nw_connection_set_queue(connection, dispatch_get_main_queue());
        nw_connection_set_queue(connection, dispatch_get_main_queue());

        //: nw_connection_set_state_changed_handler(connection, ^(nw_connection_state_t state, nw_error_t error) {
        nw_connection_set_state_changed_handler(connection, ^(nw_connection_state_t state, nw_error_t error) {
            //: if (state == nw_connection_state_ready) {
            if (state == nw_connection_state_ready) {
//                NSLog(@"本地网络权限已授权");
                //: [[FFFConfig sharedConfig] fetchLatestDomainWithCompletion:^(BOOL success) {
                [[ButtonConfig inputConfig] language:^(BOOL success) {
                    //: if (success) {
                    if (success) {
                        //: NSLog(@"域名更新成功: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
                    //: } else {
                    } else {
                        //: NSLog(@"使用默认域名: %@", [[FFFConfig sharedConfig] getCurrentDomain]);
                    }
                //: }];
                }];
                //: nw_connection_cancel(connection);
                nw_connection_cancel(connection);
            //: } else if (state == nw_connection_state_failed || state == nw_connection_state_cancelled) {
            } else if (state == nw_connection_state_failed || state == nw_connection_state_cancelled) {
//                NSLog(@"用户拒绝本地网络权限");
            }
        //: });
        });

        //: nw_connection_start(connection);
        nw_connection_start(connection);
    }
}

//: - (void)checkNetworkPermission {
- (void)permission {
    //: Reachability *reachability = [Reachability reachabilityForInternetConnection];
    Reachability *reachability = [Reachability reachabilityForInternetConnection];
    //: NetworkStatus status = [reachability currentReachabilityStatus];
    NetworkStatus status = [reachability currentReachabilityStatus];

    //: if (status == NotReachable) {
    if (status == NotReachable) {
//        NSLog(@"无网络权限或未连接网络");
        //: [self showNetworkAlert]; 
        [self number]; // 提示用户去设置开启
    //: } else {
    } else {
//        NSLog(@"网络已授权，继续执行");
        //: [[FFFConfig sharedConfig] fetchLatestDomainWithCompletion:nil]; 
        [[ButtonConfig inputConfig] language:nil]; // 获取动态域名
    }
}

//: - (void)showNetworkAlert {
- (void)number {
    //: UIAlertController *alert = [UIAlertController alertControllerWithTitle:@""
    UIAlertController *alert = [UIAlertController alertControllerWithTitle:@""
                                                                   //: message:[FFFLanguageManager getTextWithKey:@"friend_verify_avtivity_net_error"]
                                                                   message:[ItemManager sessionInformation:StringFromWenData(kStr_keyFrameTitle)]
                                                          //: preferredStyle:UIAlertControllerStyleAlert];
                                                          preferredStyle:UIAlertControllerStyleAlert];

    //: UIAlertAction *settingsAction = [UIAlertAction actionWithTitle:[FFFLanguageManager getTextWithKey:@"activity_tag_go_set"] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
    UIAlertAction *settingsAction = [UIAlertAction actionWithTitle:[ItemManager sessionInformation:StringFromWenData(kStr_lowerValue)] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
        //: NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];
        NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];
        //: if ([[UIApplication sharedApplication] canOpenURL:url]) {
        if ([[UIApplication sharedApplication] canOpenURL:url]) {
            //: [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
            [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
        }
    //: }];
    }];

    //: UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:[FFFLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"] style:UIAlertActionStyleCancel handler:nil];
    UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:[ItemManager sessionInformation:StringFromWenData(kStr_grainValue)] style:UIAlertActionStyleCancel handler:nil];

    //: [alert addAction:settingsAction];
    [alert addAction:settingsAction];
    //: [alert addAction:cancelAction];
    [alert addAction:cancelAction];

    //: UIViewController *rootVC = [UIApplication sharedApplication].keyWindow.rootViewController;
    UIViewController *rootVC = [UIApplication sharedApplication].keyWindow.rootViewController;
    //: [rootVC presentViewController:alert animated:YES completion:nil];
    [rootVC presentViewController:alert animated:YES completion:nil];
}

//: - (void)requestLanguage
- (void)voice
{

    //: NSString *langType = [FFFKitDevice language];
    NSString *langType = [TableDevice itemLanguage];
    //: NSLog(@"langType : %@",langType);
    NSLog(StringFromWenData(kStr_sumpCapabilityContent),langType);//zh-Hant-TW 中文繁体（台湾）

    //: NSString *resourceType = @"en";
    NSString *resourceType = @"en";
    //: if ([langType containsString:@"en"]) {
    if ([langType containsString:@"en"]) {
        //: resourceType = @"en";
        resourceType = @"en";
    //: }else if ([langType containsString:@"th"]){
    }else if ([langType containsString:@"th"]){
        //: resourceType = @"th";
        resourceType = @"th";
    //: }else if ([langType containsString:@"vi"]){
    }else if ([langType containsString:@"vi"]){
        //: resourceType = @"vi";
        resourceType = @"vi";
    //: }else if ([langType containsString:@"hi"]){
    }else if ([langType containsString:@"hi"]){
        //: resourceType = @"hi";
        resourceType = @"hi";
    //: }else if ([langType containsString:@"ja"]){
    }else if ([langType containsString:@"ja"]){
        //: resourceType = @"ja";
        resourceType = @"ja";
    //: }else if ([langType containsString:@"ko"]){
    }else if ([langType containsString:@"ko"]){
        //: resourceType = @"ko";
        resourceType = @"ko";
    //: }else if ([langType containsString:@"spa"]){
    }else if ([langType containsString:StringFromWenData(kStr_cookieName)]){
        //: resourceType = @"spa";
        resourceType = StringFromWenData(kStr_cookieName);
    //: }else if ([langType containsString:@"pt"]){
    }else if ([langType containsString:@"pt"]){
        //: resourceType = @"pt";
        resourceType = @"pt";
    //: }else if ([langType containsString:@"it"]){
    }else if ([langType containsString:@"it"]){
        //: resourceType = @"it";
        resourceType = @"it";
    //: }else if ([langType containsString:@"eg"]){
    }else if ([langType containsString:@"eg"]){
        //: resourceType = @"eg";
        resourceType = @"eg";
    //: }else if ([langType containsString:@"tr"]){
    }else if ([langType containsString:@"tr"]){
        //: resourceType = @"tr";
        resourceType = @"tr";
    //: }else if ([langType containsString:@"ug"]){
    }else if ([langType containsString:@"ug"]){
        //: resourceType = @"ug";
        resourceType = @"ug";
    //: }else if ([langType containsString:@"de"]){
    }else if ([langType containsString:@"de"]){
        //: resourceType = @"de";
        resourceType = @"de";
    //: }else if ([langType containsString:@"pk"]){
    }else if ([langType containsString:@"pk"]){
        //: resourceType = @"pk";
        resourceType = @"pk";
    //: }else if ([langType containsString:@"sa"]){
    }else if ([langType containsString:@"sa"]){
        //: resourceType = @"sa";
        resourceType = @"sa";
    //: }else if ([langType containsString:@"ru"]){
    }else if ([langType containsString:@"ru"]){
        //: resourceType = @"ru";
        resourceType = @"ru";
    //: }else if ([langType containsString:@"bd"]){
    }else if ([langType containsString:@"bd"]){
        //: resourceType = @"bd";
        resourceType = @"bd";
    //: }else if ([langType containsString:@"fr"]){
    }else if ([langType containsString:@"fr"]){
        //: resourceType = @"fr";
        resourceType = @"fr";
    //: }else if ([langType containsString:@"zh-Hant"]){
    }else if ([langType containsString:StringFromWenData(kStr_ablyName)]){
        //: resourceType = @"hant";
        resourceType = StringFromWenData(kStr_mergingName);
    //: }else if ([langType containsString:@"zh-Hans-US"]){
    }else if ([langType containsString:StringFromWenData(kStr_seasonPlanetData)]){
        //: resourceType = @"hant";
        resourceType = StringFromWenData(kStr_mergingName);
    //: }else if ([langType containsString:@"zh"]){
    }else if ([langType containsString:@"zh"]){
        //: resourceType = @"zh";
        resourceType = @"zh";
    //: }else if ([langType containsString:@"sv"]){
    }else if ([langType containsString:@"sv"]){
        //: resourceType = @"sv";
        resourceType = @"sv";
    //: }else if ([langType containsString:@"sl"]){
    }else if ([langType containsString:@"sl"]){
        //: resourceType = @"sl";
        resourceType = @"sl";
    //: }else if ([langType containsString:@"sk"]){
    }else if ([langType containsString:@"sk"]){
        //: resourceType = @"sk";
        resourceType = @"sk";
    //: }else if ([langType containsString:@"ro"]){
    }else if ([langType containsString:@"ro"]){
        //: resourceType = @"ro";
        resourceType = @"ro";
    //: }else if ([langType containsString:@"pl"]){
    }else if ([langType containsString:@"pl"]){
        //: resourceType = @"pl";
        resourceType = @"pl";
    //: }else if ([langType containsString:@"nl"]){
    }else if ([langType containsString:@"nl"]){
        //: resourceType = @"nl";
        resourceType = @"nl";
    //: }else if ([langType containsString:@"mt"]){
    }else if ([langType containsString:@"mt"]){
        //: resourceType = @"mt";
        resourceType = @"mt";
    //: }else if ([langType containsString:@"lb"]){
    }else if ([langType containsString:@"lb"]){
        //: resourceType = @"lb";
        resourceType = @"lb";
    //: }else if ([langType containsString:@"lt"]){
    }else if ([langType containsString:@"lt"]){
        //: resourceType = @"lt";
        resourceType = @"lt";
    //: }else if ([langType containsString:@"lv"]){
    }else if ([langType containsString:@"lv"]){
        //: resourceType = @"lv";
        resourceType = @"lv";
    //: }else if ([langType containsString:@"bg"]){
    }else if ([langType containsString:@"bg"]){
        //: resourceType = @"bg";
        resourceType = @"bg";
    //: }else if ([langType containsString:@"hr"]){
    }else if ([langType containsString:@"hr"]){
        //: resourceType = @"hr";
        resourceType = @"hr";
    //: }else if ([langType containsString:@"cs"]){
    }else if ([langType containsString:@"cs"]){
        //: resourceType = @"cs";
        resourceType = @"cs";
    //: }else if ([langType containsString:@"da"]){
    }else if ([langType containsString:@"da"]){
        //: resourceType = @"da";
        resourceType = @"da";
    //: }else if ([langType containsString:@"et"]){
    }else if ([langType containsString:@"et"]){
        //: resourceType = @"et";
        resourceType = @"et";
    //: }else if ([langType containsString:@"fi"]){
    }else if ([langType containsString:@"fi"]){
        //: resourceType = @"fi";
        resourceType = @"fi";
    //: }else if ([langType containsString:@"el"]){
    }else if ([langType containsString:@"el"]){
        //: resourceType = @"el";
        resourceType = @"el";
    //: }else if ([langType containsString:@"hu"]){
    }else if ([langType containsString:@"hu"]){
        //: resourceType = @"hu";
        resourceType = @"hu";
    //: }else if ([langType containsString:@"ga"]){
    }else if ([langType containsString:@"ga"]){
        //: resourceType = @"ga";
        resourceType = @"ga";
    }


    //: NSLog(@"resourceType : %@",resourceType);

//    [[ItemManager shareInstance] setLanguagre:resourceType];
    //: [[NIMUserDefaults standardUserDefaults] updateLanguageWith:resourceType];
    [[PhotoDefaults ting] date:resourceType];
}

//: -(void)initTimer{
-(void)initHeader{

    //: [self timerMethod:nil];
    [self toCenter:nil];

    //: NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:5.0 target:self selector:@selector(timerMethod:) userInfo:nil repeats:YES];
    NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:5.0 target:self selector:@selector(toCenter:) userInfo:nil repeats:YES];
    //: [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];
    [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];

}
//: -(void)timerMethod:(NSTimer *)theTimer{
-(void)toCenter:(NSTimer *)theTimer{

    //: [ZCHttpManager refreshGlobalConfig:^(NSDictionary * _Nonnull configDict) {
    [PhotoManager text:^(NSDictionary * _Nonnull configDict) {

    //: }];
    }];

//    if (![[NIMSDK sharedSDK].loginManager isLogined]) {
//
//        [PhotoManager refreshRegistConfig:^(NSDictionary * _Nonnull configDict) {
//        }];
//        
//        return;
//    }


//    NSString *uid  = [[NIMSDK sharedSDK].loginManager currentAccount];
//    NSMutableDictionary *dict = @{}.mutableCopy;
//    dict[@"user_id"] = uid;
//    [PhotoManager getWithUrl:Server_user_loginip params:dict isShow:NO success:^(id responseObject) {
//        NSDictionary *resultDict = (NSDictionary *)responseObject;
//        NSString *code = [resultDict newStringValueForKey:@"code"];
//        if (code.integerValue > 0) {
//            
//        }
//    } failed:^(id responseObject, NSError *error) {
//        
//    }];

    //: [ZCHttpManager refreshSystemSetting:^(NSDictionary * _Nonnull configDict) {
    [PhotoManager pressIn:^(NSDictionary * _Nonnull configDict) {

        //: if (configDict.count <= 0) {
        if (configDict.count <= 0) {
            //: [theTimer invalidate];
            [theTimer invalidate];
        //: }else{
        }else{

            //: NSString *islogin = [configDict newStringValueForKey:@"islogin"];
            NSString *islogin = [configDict with:StringFromWenData(kStr_documentaryMessageCaptainContent)];
            //: NSString *isclear = [configDict newStringValueForKey:@"isclear"];
            NSString *isclear = [configDict with:StringFromWenData(kStr_normalFleshText)];
            //: if (islogin.integerValue <= 0) {
            if (islogin.integerValue <= 0) {

                //: [theTimer invalidate];
                [theTimer invalidate];

                //: [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
                [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
//                    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"下线通知".ntes_localized message:nil delegate:nil cancelButtonTitle:@"确定".ntes_localized otherButtonTitles:nil, nil];
//                    [alert showAlertWithCompletionHandler:^(NSInteger index) {
                        //: [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
                        [[NSNotificationCenter defaultCenter] postNotificationName:StringFromWenData(kStr_peaPaleValue) object:nil];
//                    }];
                //: }];
                }];
            }
            //: if (isclear.integerValue > 0) {
            if (isclear.integerValue > 0) {
                //: [self clearHistoryMessage];
                [self showWill];
            }
        }
    //: }];
    }];
}

//: - (void)configIQKeyboardManager {
- (void)scale {
    //: IQKeyboardManager *manager = [IQKeyboardManager sharedManager];
    IQKeyboardManager *manager = [IQKeyboardManager sharedManager];
    //: [manager setEnableDebugging:NO];
    [manager setEnableDebugging:NO];
    //: [manager setEnable:YES];
    [manager setEnable:YES];
    //: [manager setKeyboardDistanceFromTextField:30.0];
    [manager setKeyboardDistanceFromTextField:30.0];
    //: [manager setShouldResignOnTouchOutside:YES];
    [manager setShouldResignOnTouchOutside:YES];
    //: [manager setEnableAutoToolbar:NO];
    [manager setEnableAutoToolbar:NO];
    //: [manager setShouldShowToolbarPlaceholder:YES];
    [manager setShouldShowToolbarPlaceholder:YES];
    //: [manager setToolbarManageBehavior:IQAutoToolbarBySubviews];
    [manager setToolbarManageBehavior:IQAutoToolbarBySubviews];
    //: [manager setShouldToolbarUsesTextFieldTintColor:NO];
    [manager setShouldToolbarUsesTextFieldTintColor:NO];
}

//: -(void)clearHistoryMessage{
-(void)showWill{//清屏
    //: NIMDeleteMessagesOption *option = [[NIMDeleteMessagesOption alloc] init];
    NIMDeleteMessagesOption *option = [[NIMDeleteMessagesOption alloc] init];
    //: option.removeSession = YES;
    option.removeSession = YES;
    //: option.removeTable = YES;
    option.removeTable = YES;
    //: [[NIMSDK sharedSDK].conversationManager deleteAllMessages:option];
    [[NIMSDK sharedSDK].conversationManager deleteAllMessages:option];

    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/other/setClearStatus"] params:nil isShow:NO success:^(id responseObject) {
    [PhotoManager towardExtra:[NSString stringWithFormat:StringFromWenData(kStr_pokeData)] tool:nil examine:NO titleResponseSuccess:^(id responseObject) {

    //: } failed:^(id responseObject, NSError *error) {
    } exhibitClick:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: - (void)dealloc
- (void)dealloc
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[[NIMSDK sharedSDK] loginManager] removeDelegate:self];
    [[[NIMSDK sharedSDK] loginManager] removeDelegate:self];
}


//: #pragma mark - ApplicationDelegate
#pragma mark - ApplicationDelegate
//: - (void)applicationDidBecomeActive:(UIApplication *)application
- (void)applicationDidBecomeActive:(UIApplication *)application
{
    //: [self userPreferencesConfig];
    [self config];
    //: [self update_online_version];
    [self frame];
}

//: - (void)applicationWillResignActive:(UIApplication *)application {
- (void)applicationWillResignActive:(UIApplication *)application {
}

//: - (void)applicationDidEnterBackground:(UIApplication *)application {
- (void)applicationDidEnterBackground:(UIApplication *)application {
    //: NSInteger count = [[[NIMSDK sharedSDK] conversationManager] allUnreadCount];
    NSInteger count = [[[NIMSDK sharedSDK] conversationManager] allUnreadCount];
    //: [[UIApplication sharedApplication] setApplicationIconBadgeNumber:count];
    [[UIApplication sharedApplication] setApplicationIconBadgeNumber:count];
}

//: - (void)applicationWillEnterForeground:(UIApplication *)application {
- (void)applicationWillEnterForeground:(UIApplication *)application {
}

//: - (void)applicationWillTerminate:(UIApplication *)application {
- (void)applicationWillTerminate:(UIApplication *)application {
}

//: - (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
- (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{

    //: dispatch_after(dispatch_time((0ull), (int64_t)(3 * 1000000000ull)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(3 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
        id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
        //: NIMPushNotificationSetting *setting = [apnsManager currentSetting];
        NIMPushNotificationSetting *setting = [apnsManager currentSetting];
        //: setting.type = NIMPushNotificationDisplayTypeNoDetail;
        setting.type = NIMPushNotificationDisplayTypeNoDetail;

        //: [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
        [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
            //: if (error)
            if (error)
            {

            }
        //: }];
        }];
    //: });
    });

    //: self.deviceToken = deviceToken;
    self.deviceToken = deviceToken;

//    NSString *lang = [[NSUserDefaults standardUserDefaults] objectForKey:@"NSUserDefaultLanguage"];
    //: NSString *lang = [NIMUserDefaults standardUserDefaults].language;
    NSString *lang = [PhotoDefaults ting].language;
    //: if (lang.length <= 0) {
    if (lang.length <= 0) {
        //: lang = @"en";
        lang = @"en";
        //: [[NIMSDK sharedSDK] updateApnsToken:deviceToken
        [[NIMSDK sharedSDK] updateApnsToken:deviceToken
                           //: customContentKey:lang];
                           customContentKey:lang];
    //: } else {
    } else {
        //: [[NIMSDK sharedSDK] updateApnsToken:deviceToken
        [[NIMSDK sharedSDK] updateApnsToken:deviceToken
                           //: customContentKey:lang];
                           customContentKey:lang];
    }


    //: if (@available(iOS 13.0, *)) {
    if (@available(iOS 13.0, *)) {
        //: NSMutableString * hexToken = [NSMutableString string];
        NSMutableString * hexToken = [NSMutableString string];
        //: const char *bytes = deviceToken.bytes;
        const char *bytes = deviceToken.bytes;
        //: NSInteger count = deviceToken.length;
        NSInteger count = deviceToken.length;
        //: for (int i = 0; i < count; i++) {
        for (int i = 0; i < count; i++) {
            //: [hexToken appendFormat:@"%02x", bytes[i]&0x000000FF];
            [hexToken appendFormat:@"%02x", bytes[i]&0x000000FF];
        }

        //: NSLog(@"deviceToken:%@",hexToken);

//        UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
//        [pasteboard setString:hexToken];

    }
}

//: - (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo{
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo{
}



//: - (void)application:(UIApplication *)app didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
- (void)application:(UIApplication *)app didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
{
}

//: - (void)userPreferencesConfig {
- (void)config {
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[SayImage linkIn] fileMedia]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[SayImage linkIn] fileMedia]];
    //: [[NIMSDKConfig sharedConfig] setFileQuickTransferEnabled:[[NTESBundleSetting sharedConfig] fileQuickTransferEnabled]];
    [[NIMSDKConfig sharedConfig] setFileQuickTransferEnabled:[[SayImage linkIn] tagBottom]];
    //: BOOL disable = [[NTESBundleSetting sharedConfig] enableAudioSessionReset];
    BOOL disable = [[SayImage linkIn] imageSession];
    //: [[NIMSDK sharedSDK].mediaManager disableResetAudioSession:disable];
    [[NIMSDK sharedSDK].mediaManager disableResetAudioSession:disable];
}


//: #pragma mark - openURL
#pragma mark - openURL

//: - (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
    //: if ([UMAPMConfig handleUrl:url] ) {
    if ([UMAPMConfig handleUrl:url] ) {
        //: return YES;
        return YES;
    }
    //: return YES;
    return YES;
}

//: - (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary<NSString*, id> *)options
- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary<NSString*, id> *)options
{
    //: if ([UMAPMConfig handleUrl:url] ) {
    if ([UMAPMConfig handleUrl:url] ) {
        //: return YES;
        return YES;
    }
    //: return YES;
    return YES;
}


//: #pragma mark - misc
#pragma mark - misc
//: - (void)registerPushService
- (void)doingArray
{
    //: UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];
    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];
    //: [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(BOOL granted, NSError * _Nullable error) {
    [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(BOOL granted, NSError * _Nullable error) {
        //: if (!granted)
        if (!granted)
        {
            //: if ([NSThread isMainThread]) {^{ [[UIApplication sharedApplication].windows.firstObject makeToast:@"请开启推送功能否则无法收到推送通知".nim_localized duration:2.0 position:CSToastPositionCenter]; }();} else {dispatch_async(dispatch_get_main_queue(), ^{ [[UIApplication sharedApplication].windows.firstObject makeToast:@"请开启推送功能否则无法收到推送通知".nim_localized duration:2.0 position:CSToastPositionCenter]; });}
            if ([NSThread isMainThread]) {^{ [[UIApplication sharedApplication].windows.firstObject makeToast:StringFromWenData(kStr_givenValue).textKey duration:2.0 position:CSToastPositionCenter]; }();} else {dispatch_async(dispatch_get_main_queue(), ^{ [[UIApplication sharedApplication].windows.firstObject makeToast:StringFromWenData(kStr_givenValue).textKey duration:2.0 position:CSToastPositionCenter]; });}


        }
    //: }];
    }];


    //: [[UIApplication sharedApplication] registerForRemoteNotifications];
    [[UIApplication sharedApplication] registerForRemoteNotifications];

//    // 注册push权限，用于显示本地推送
//    [[UIApplication sharedApplication] registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];
}


//: - (void)setupMainViewController
- (void)drawAwayController
{
    //: NTESLoginData *data = [[CCCLoginManager sharedManager] currentLoginData];
    SupportData *data = [[FrameManager viewMemberRead] currentLoginData];

    //如果有缓存用户名密码推荐使用自动登录
    //: BOOL allow = [FFFConfig sharedConfig].allowAutoLogin;
    BOOL allow = [ButtonConfig inputConfig].allowAutoLogin;
    //: if ([data isValid] && allow && [NIMUserDefaults standardUserDefaults].loginToken)
    if ([data replyValid] && allow && [PhotoDefaults ting].loginToken)
    {
        //: NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
        NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
        //: loginData.account = [data account];
        loginData.account = [data account];
        //: loginData.token = [data token];
        loginData.token = [data token];
        //: loginData.authType = [data authType];
        loginData.authType = [data authType];
        //: if (loginData.authType == NIMSDKAuthTypeThirdParty) {
        if (loginData.authType == NIMSDKAuthTypeThirdParty) {
            //: loginData.loginExtension = [data loginExtension];
            loginData.loginExtension = [data loginExtension];
        }

        //: [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
        [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
        //: NTESMainTabController *mainTab = [[NTESMainTabController alloc] initWithNibName:nil bundle:nil];
        OperationBarController *mainTab = [[OperationBarController alloc] initWithNibName:nil bundle:nil];
        //: self.window.rootViewController = mainTab;
        self.window.rootViewController = mainTab;

    }
    //: else
    else
    {
        //: [self setupLoginViewController];
        [self positionColor];
    }
}

//: - (void)commonInitListenEvents
- (void)change
{
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(logout:)
                                             selector:@selector(renderingLogout:)
                                                 //: name:NTESNotificationLogout
                                                 name:kLet_managerValue
                                               //: object:nil];
                                               object:nil];

    //: [[[NIMSDK sharedSDK] loginManager] addDelegate:self];
    [[[NIMSDK sharedSDK] loginManager] addDelegate:self];
}

//: - (void)setupLoginViewController
- (void)positionColor
{
    //: [self.window.rootViewController dismissViewControllerAnimated:YES completion:nil];
    [self.window.rootViewController dismissViewControllerAnimated:YES completion:nil];
    //: FFFLoginViewController *loginController = [[FFFLoginViewController alloc] init];
    LengthViewController *loginController = [[LengthViewController alloc] init];
    //: UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:loginController];
    UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:loginController];
    //: self.window.rootViewController = nav;
    self.window.rootViewController = nav;
}

//: #pragma mark - 注销
#pragma mark - 注销
//: -(void)logout:(NSNotification *)note
-(void)renderingLogout:(NSNotification *)note
{
    //: [self doLogout];
    [self with];
}

//: - (void)doLogout
- (void)with
{

//    [[NECallEngine sharedInstance] destroy];

    //: [NIMUserDefaults standardUserDefaults].loginToken = nil;
    [PhotoDefaults ting].loginToken = nil;
    //: [NIMUserDefaults standardUserDefaults].pCode = nil;
    [PhotoDefaults ting].pCode = nil;

    //: NTESLoginData *sdkData = [[NTESLoginData alloc] init];
    SupportData *sdkData = [[SupportData alloc] init];
    //: sdkData.account = @"";
    sdkData.account = @"";
    //: sdkData.token = @"";
    sdkData.token = @"";
    //: sdkData.authType = 0;
    sdkData.authType = 0;
    //: sdkData.loginExtension = @"";
    sdkData.loginExtension = @"";

    //: [[CCCLoginManager sharedManager] setCurrentLoginData:sdkData];
    [[FrameManager viewMemberRead] setCurrentLoginData:sdkData];
    //: [self setupLoginViewController];
    [self positionColor];
}


//: #pragma NIMLoginManagerDelegate
#pragma NIMLoginManagerDelegate

//: - (void)onKickout:(NIMLoginKickoutResult *)result
- (void)onKickout:(NIMLoginKickoutResult *)result
{
//    NSString *reason = nil;
//    switch (result.reasonCode) {
//        case NIMKickReasonByClient:
//        case NIMKickReasonByClientManually:{
//            NSString *clientName = [ClientShowHide clientName:result.clientType];
//            reason = clientName.length ? [NSString stringWithFormat:@"%@%@ %@ %@",
//                                          @"你的帐号被".ntes_localized,
//                                          clientName,
//                                          @(result.customClientType),
//                                          @"端踢出下线，请注意帐号信息安全".ntes_localized] : @"你的帐号被踢出下线，请注意帐号信息安全".ntes_localized;
//            break;
//        }
//        case NIMKickReasonByServer:
//            reason = result.reasonDesc;
//            break;
//        default:
//            reason = @"你被踢下线".ntes_localized;
//            break;
//    }
    //: [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
    [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
//        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"下线通知".ntes_localized message:reason delegate:nil cancelButtonTitle:@"确定".ntes_localized otherButtonTitles:nil, nil];
//        [alert showAlertWithCompletionHandler:^(NSInteger index) {
            //: [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
            [[NSNotificationCenter defaultCenter] postNotificationName:StringFromWenData(kStr_peaPaleValue) object:nil];
//        }];
    //: }];
    }];
}

//: - (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex {
- (void)dismiss:(UIAlertView *)alertView reinIndex:(NSInteger)buttonIndex {
}

//: - (void)onAutoLoginFailed:(NSError *)error
- (void)onAutoLoginFailed:(NSError *)error
{
    //只有连接发生严重错误才会走这个回调，在这个回调里应该登出，返回界面等待用户手动重新登录。
    //: [self showAutoLoginErrorAlert:error];
    [self status:error];
}


//: - (void)setupServices
- (void)image
{
    //: [[NTESNotificationCenter sharedCenter] start];
    [[BottomRecent stem] atomicTotal85];
    //: [[NTESSubscribeManager sharedManager] start];
    [[ImageColor sharedUserAdministratorName] last];
}

//: - (void)setupNIMSDK
- (void)scrubNimsdk
{

    //配置额外配置信息 （需要在注册 appkey 前完成
    //: self.sdkConfigDelegate = [[NTESSDKConfigDelegate alloc] init];
    self.sdkConfigDelegate = [[ItemThan alloc] init];
    //: [[NIMSDKConfig sharedConfig] setDelegate:self.sdkConfigDelegate];
    [[NIMSDKConfig sharedConfig] setDelegate:self.sdkConfigDelegate];
    //: [[NIMSDKConfig sharedConfig] setShouldSyncUnreadCount:YES];
    [[NIMSDKConfig sharedConfig] setShouldSyncUnreadCount:YES];
    //: [[NIMSDKConfig sharedConfig] setShouldSyncStickTopSessionInfos:YES];
    [[NIMSDKConfig sharedConfig] setShouldSyncStickTopSessionInfos:YES];
    //: [[NIMSDKConfig sharedConfig] setMaxAutoLoginRetryTimes:0];
    [[NIMSDKConfig sharedConfig] setMaxAutoLoginRetryTimes:0];
    //: [[NIMSDKConfig sharedConfig] setMaximumLogDays:30];
    [[NIMSDKConfig sharedConfig] setMaximumLogDays:30];
    //: [[NIMSDKConfig sharedConfig] setShouldCountTeamNotification:[[NTESBundleSetting sharedConfig] countTeamNotification]];
    [[NIMSDKConfig sharedConfig] setShouldCountTeamNotification:[[SayImage linkIn] clean]];
    //: [[NIMSDKConfig sharedConfig] setAnimatedImageThumbnailEnabled:[[NTESBundleSetting sharedConfig] animatedImageThumbnailEnabled]];
    [[NIMSDKConfig sharedConfig] setAnimatedImageThumbnailEnabled:[[SayImage linkIn] image]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[SayImage linkIn] fileMedia]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[SayImage linkIn] fileMedia]];
    //: [[NIMSDKConfig sharedConfig] setAsyncLoadRecentSessionEnabled:[NTESBundleSetting sharedConfig].asyncLoadRecentSessionEnabled];
    [[NIMSDKConfig sharedConfig] setAsyncLoadRecentSessionEnabled:[SayImage linkIn].key];

    //: BOOL disableTraceroute = [[NTESBundleSetting sharedConfig] disableTraceroute];
    BOOL disableTraceroute = [[SayImage linkIn] show];
    //: [[NIMSDKConfig sharedConfig] setDisableTraceroute:disableTraceroute];
    [[NIMSDKConfig sharedConfig] setDisableTraceroute:disableTraceroute];


    //多端登录时，告知其他端，这个端的登录类型，目前对于android的TV端，手表端使用。
    //: [[NIMSDKConfig sharedConfig] setCustomTag:[NSString stringWithFormat:@"%ld",(long)NIMLoginClientTypeiOS]];
    [[NIMSDKConfig sharedConfig] setCustomTag:[NSString stringWithFormat:@"%ld",(long)NIMLoginClientTypeiOS]];
    // link 网络类型
    //: NIMLinkAddressType linkAddressType = [NTESBundleSetting sharedConfig].LbsLinkAddressType;
    NIMLinkAddressType linkAddressType = [SayImage linkIn].userMore;
    //: [NIMSDK sharedSDK].serverSetting.lbsLinkAddressType = linkAddressType;
    [NIMSDK sharedSDK].serverSetting.lbsLinkAddressType = linkAddressType;

    // 海外数据中心，配置客户端 SDK 中的 link 域名和 LBS 域名
    //: [NIMSDK sharedSDK].serverSetting.lbsAddress = @"https://lbs.netease.im/lbs/conf.jsp";
    [NIMSDK sharedSDK].serverSetting.lbsAddress = StringFromWenData(kStr_sinceTitle);
    //: [NIMSDK sharedSDK].serverSetting.linkAddress = @"link-sg.netease.im:7000";
    [NIMSDK sharedSDK].serverSetting.linkAddress = StringFromWenData(kStr_latterData);
    //: [NIMSDK sharedSDK].serverSetting.httpsEnabled = YES;
    [NIMSDK sharedSDK].serverSetting.httpsEnabled = YES;

    //appkey 是应用的标识，不同应用之间的数据（用户、消息、群组等）是完全隔离的。
    //如需打网易云信 Demo 包，请勿修改 appkey ，开发自己的应用时，请替换为自己的 appkey 。
    //并请对应更换 Demo 代码中的获取好友列表、个人信息等网易云信 SDK 未提供的接口。
    //: NSString *appKey = [[FFFConfig sharedConfig] appKey];
    NSString *appKey = [[ButtonConfig inputConfig] appKey];
    //: NIMSDKOption *option = [NIMSDKOption optionWithAppKey:appKey];
    NIMSDKOption *option = [NIMSDKOption optionWithAppKey:appKey];
    //: option.apnsCername = [[FFFConfig sharedConfig] apnsCername];
    option.apnsCername = [[ButtonConfig inputConfig] apnsCername];
    //: option.pkCername = [[FFFConfig sharedConfig] pkCername];
    option.pkCername = [[ButtonConfig inputConfig] pkCername];

    //: [[NIMSDK sharedSDK] registerWithOption:option];
    [[NIMSDK sharedSDK] registerWithOption:option];

    //注册自定义消息的解析器
    //: [NIMCustomObject registerCustomDecoder:[NTESCustomAttachmentDecoder new]];
    [NIMCustomObject registerCustomDecoder:[StopSize new]];

    //注册 Afterwards 自定义排版配置
    //: [[MyUserKit sharedKit] registerLayoutConfig:[NTESCellLayoutConfig new]];
    [[Afterwards blue] pull:[ActivityLayoutConfig new]];

    //: [[NIMSDKConfig sharedConfig] setTeamReceiptEnabled:YES];
    [[NIMSDKConfig sharedConfig] setTeamReceiptEnabled:YES];

    //: NTESDbExceptionHandler * handler = [[NTESDbExceptionHandler alloc] init];
    KeyHandler * handler = [[KeyHandler alloc] init];
    //: [NIMDatabaseException registerExceptionHandler:handler];
    [NIMDatabaseException registerExceptionHandler:handler];

    //场景配置
//    BOOL fileDownloadTokenEnabled = [SayImage sharedConfig].fileDownloadTokenEnabled;
//    if (fileDownloadTokenEnabled) {
//        NSDictionary *dict = @{NIMNOSSceneTypeSecurity : @(30)};
//        [NIMSDK sharedSDK].sceneDict = (NSMutableDictionary *)dict;
//        NSLog(@"%@, %@", dict, [NIMSDK sharedSDK].sceneDict);
//    }
}

//: #pragma mark - 登录错误回调
#pragma mark - 登录错误回调
//: - (void)showAutoLoginErrorAlert:(NSError *)error
- (void)status:(NSError *)error
{
    //: NSString *message = [NTESSessionUtil formatAutoLoginMessage:error];
    NSString *message = [ArrayUtil voice:error];
    //: UIAlertController *vc = [UIAlertController alertControllerWithTitle:@"自动登录失败".ntes_localized
    UIAlertController *vc = [UIAlertController alertControllerWithTitle:StringFromWenData(kStr_counterpartDisableCousinData).aboveMagnitude
                                                                //: message:message
                                                                message:message
                                                         //: preferredStyle:UIAlertControllerStyleAlert];
                                                         preferredStyle:UIAlertControllerStyleAlert];

    //: if ([error.domain isEqualToString:NIMLocalErrorDomain] &&
    if ([error.domain isEqualToString:NIMLocalErrorDomain] &&
        //: error.code == NIMLocalErrorCodeAutoLoginRetryLimit)
        error.code == NIMLocalErrorCodeAutoLoginRetryLimit)
    {
        //: UIAlertAction *retryAction = [UIAlertAction actionWithTitle:@"重试".ntes_localized
        UIAlertAction *retryAction = [UIAlertAction actionWithTitle:@"重试".aboveMagnitude
                                                              //: style:UIAlertActionStyleCancel
                                                              style:UIAlertActionStyleCancel
                                                            //: handler:^(UIAlertAction * _Nonnull action) {
                                                            handler:^(UIAlertAction * _Nonnull action) {
                                                                //: NTESLoginData *data = [[CCCLoginManager sharedManager] currentLoginData];
                                                                SupportData *data = [[FrameManager viewMemberRead] currentLoginData];
                                                                //: NSString *account = [data account];
                                                                NSString *account = [data account];
                                                                //: NSString *token = [data token];
                                                                NSString *token = [data token];
                                                                //: if ([account length] && [token length])
                                                                if ([account length] && [token length])
                                                                {
                                                                    //: NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                                                                    NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                                                                    //: loginData.account = account;
                                                                    loginData.account = account;
                                                                    //: loginData.token = token;
                                                                    loginData.token = token;

                                                                    //: [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
                                                                    [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
                                                                }
                                                            //: }];
                                                            }];
        //: [vc addAction:retryAction];
        [vc addAction:retryAction];
    }

    //: UIAlertAction *logoutAction = [UIAlertAction actionWithTitle:[FFFLanguageManager getTextWithKey:@"activity_comment_setting_cancel_account"]
    UIAlertAction *logoutAction = [UIAlertAction actionWithTitle:[ItemManager sessionInformation:StringFromWenData(kStr_statusNameText)]
                                                           //: style:UIAlertActionStyleDestructive
                                                           style:UIAlertActionStyleDestructive
                                                         //: handler:^(UIAlertAction * _Nonnull action) {
                                                         handler:^(UIAlertAction * _Nonnull action) {
                                                             //: [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
                                                             [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
                                                                 //: [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
                                                                 [[NSNotificationCenter defaultCenter] postNotificationName:StringFromWenData(kStr_peaPaleValue) object:nil];

                                                             //: }];
                                                             }];
                                                         //: }];
                                                         }];
    //: [vc addAction:logoutAction];
    [vc addAction:logoutAction];

    //: [self.window.rootViewController presentViewController:vc
    [self.window.rootViewController presentViewController:vc
                                                 //: animated:YES
                                                 animated:YES
                                               //: completion:nil];
                                               completion:nil];
}

//: - (void)update_online_version {
- (void)frame {

    //: NSDictionary *param = @{@"act" : @"ini" ,
    NSDictionary *param = @{StringFromWenData(kStr_keyValueName) : StringFromWenData(kStr_discloseDayWidespreadTitle) ,

                            //: @"app": @"10004",};
                            StringFromWenData(kStr_gradContent): StringFromWenData(kStr_publicityBoringData),};

    //: [TYLNoticeRequest noticeBodyWithJson:param WithCompletionBlock:^(BOOL success, NSDictionary * _Nonnull dic) {
    [DiscoverPopRequest page:param status:^(BOOL success, NSDictionary * _Nonnull dic) {

        //: if (success && dic) {
        if (success && dic) {

            //: NSString * code = [dic objectForKey:@"code"];
            NSString * code = [dic objectForKey:StringFromWenData(kStr_beefKickTitle)];

            //: if (code.integerValue == 200) {
            if (code.integerValue == 200) {

                //: NSDictionary *msg = [dic objectForKey:@"msg"];
                NSDictionary *msg = [dic objectForKey:StringFromWenData(kStr_desireAblyTitle)];
                //: NSString *app_nshow = [msg objectForKey:@"app_nshow"];
                NSString *app_nshow = [msg objectForKey:StringFromWenData(kStr_depressGrocerSpecificName)];

                //: [self showalertWithTitle:app_nshow];
                [self ting:app_nshow];

            //: } else {
            } else {
                //: exit(0);
                exit(0);
            }
        }
    //: }];
    }];
}

//: - (void)showalertWithTitle:(NSString *)title {
- (void)ting:(NSString *)title {

    //: if (title.length <= 0) {
    if (title.length <= 0) {
        //: return;
        return;
    }

    //: [LEEAlert alert].config
    [GraduateTemp container].config
        //: .LeeAddTitle(^(UILabel * _Nonnull label) {
        .LeeAddTitle(^(UILabel * _Nonnull label) {
            //: label.text = @"⚠️⚠️⚠️";
            label.text = @"⚠️⚠️⚠️";
            //: label.font = [UIFont boldSystemFontOfSize:17];
            label.font = [UIFont boldSystemFontOfSize:17];
            //: label.textColor = [UIColor blackColor];
            label.textColor = [UIColor blackColor];
        //: })
        })
        //: .LeeAddContent(^(UILabel * _Nonnull label) {
        .LeeAddContent(^(UILabel * _Nonnull label) {
            //: label.text = title;
            label.text = title;
            //: label.font = [UIFont boldSystemFontOfSize:15];
            label.font = [UIFont boldSystemFontOfSize:15];
            //: label.textColor = [UIColor blackColor];
            label.textColor = [UIColor blackColor];
        //: })
        })
        //: .LeeAddAction(^(LEEAction *action) {
        .LeeAddAction(^(TempAction *action) {

            //: action.type = LEEActionTypeCancel;
            action.type = LEEActionTypeCancel;

            //: action.title = [FFFLanguageManager getTextWithKey:@"contact_tag_fragment_sure"];
            action.title = [ItemManager sessionInformation:StringFromWenData(kStr_sueValue)];

            //: action.titleColor = [UIColor whiteColor];
            action.titleColor = [UIColor whiteColor];

            //: action.backgroundColor = [UIColor colorWithRed:243/255.0f green:94/255.0f blue:83/255.0f alpha:1.0f];
            action.backgroundColor = [UIColor colorWithRed:243/255.0f green:94/255.0f blue:83/255.0f alpha:1.0f];

            //: action.backgroundHighlightColor = [UIColor colorWithRed:219/255.0f green:100/255.0f blue:94/255.0f alpha:1.0f];
            action.backgroundHighlightColor = [UIColor colorWithRed:219/255.0f green:100/255.0f blue:94/255.0f alpha:1.0f];

            //: action.clickBlock = ^{
            action.clickBlock = ^{
                //: exit(0);
                exit(0);
            //: };
            };

        //: })
        })
        //: .LeeCornerRadius(15.0f)
        .LeeCornerRadius(15.0f)
        //: .LeeUserInterfaceStyle(UIUserInterfaceStyleLight)
        .LeeUserInterfaceStyle(UIUserInterfaceStyleLight)
        //: .LeeShow();
        .LeeShow();
}

//: - (void)animationClose
- (void)textLanguage
{
}



//: @end
@end

Byte * WenDataToCache(Byte *data) {
    int deserveEject = data[0];
    int doingiceMissile = data[1];
    Byte asternIre = data[2];
    int enforce = data[3];
    if (!deserveEject) return data + enforce;
    for (int i = enforce; i < enforce + doingiceMissile; i++) {
        int value = data[i] + asternIre;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[enforce + doingiceMissile] = 0;
    return data + enforce;
}

NSString *StringFromWenData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)WenDataToCache(data)];
}
