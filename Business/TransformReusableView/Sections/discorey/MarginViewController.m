
#import <Foundation/Foundation.h>
typedef struct {
    Byte onQueryed;
    Byte *textMediaAt;
    unsigned int alongShow;
    bool straightAndNarrowStatus;
	int happening;
	int smallness;
} BubbleData;

NSString *StringFromBubbleData(BubbleData *data);


//: chat_top_bg
BubbleData kStr_textIndexValue = (BubbleData){57, (Byte []){90, 81, 88, 77, 102, 77, 86, 73, 102, 91, 94, 138}, 11, false, 169, 143};


//: ic_none_LogList
BubbleData kStr_cellTitle = (BubbleData){216, (Byte []){177, 187, 135, 182, 183, 182, 189, 135, 148, 183, 191, 148, 177, 171, 172, 62}, 15, false, 129, 62};


//: ispraise
BubbleData kStr_remoteCellContentValue = (BubbleData){158, (Byte []){247, 237, 238, 236, 255, 247, 237, 251, 156}, 8, false, 171, 238};


//: report_sucessed
BubbleData kStr_textContent = (BubbleData){247, (Byte []){133, 146, 135, 152, 133, 131, 168, 132, 130, 148, 146, 132, 132, 146, 147, 50}, 15, false, 37, 93};


//: data
BubbleData kStr_addIndexTitle = (BubbleData){46, (Byte []){74, 79, 90, 79, 195}, 4, false, 166, 29};


//: discovery
BubbleData kStr_pathSizeData = (BubbleData){68, (Byte []){32, 45, 55, 39, 43, 50, 33, 54, 61, 168}, 9, false, 151, 198};


//: #ffffff
BubbleData kStr_bottomVideoTitle = (BubbleData){213, (Byte []){246, 179, 179, 179, 179, 179, 179, 160}, 7, false, 101, 252};


//: covery_report
BubbleData kStr_viewTingTitle = (BubbleData){116, (Byte []){23, 27, 2, 17, 6, 13, 43, 6, 17, 4, 27, 6, 0, 111}, 13, false, 78, 126};


//: name
BubbleData kStr_hideItemText = (BubbleData){155, (Byte []){245, 250, 246, 254, 55}, 4, false, 48, 246};


//: #999999
BubbleData kStr_handleInfoData = (BubbleData){196, (Byte []){231, 253, 253, 253, 253, 253, 253, 246}, 7, false, 210, 14};


//: picture
BubbleData kStr_areaTimeData = (BubbleData){34, (Byte []){82, 75, 65, 86, 87, 80, 71, 114}, 7, false, 45, 177};


//: fid
BubbleData kStr_objectShouldContent = (BubbleData){201, (Byte []){175, 160, 173, 111}, 3, false, 200, 231};


//: /friend/addComplaint
BubbleData kStr_bottomText = (BubbleData){182, (Byte []){153, 208, 196, 223, 211, 216, 210, 153, 215, 210, 210, 245, 217, 219, 198, 218, 215, 223, 216, 194, 111}, 20, false, 236, 205};


//: pull_more
BubbleData kStr_bubbleStatusValue = (BubbleData){207, (Byte []){191, 186, 163, 163, 144, 162, 160, 189, 170, 94}, 9, false, 124, 93};


//: headsmall
BubbleData kStr_changeMobileValue = (BubbleData){117, (Byte []){29, 16, 20, 17, 6, 24, 20, 25, 25, 110}, 9, false, 171, 127};


//: covery_block
BubbleData kStr_tingDirectionData = (BubbleData){32, (Byte []){67, 79, 86, 69, 82, 89, 127, 66, 76, 79, 67, 75, 153}, 12, false, 233, 174};


//: nickname
BubbleData kStr_contentChangeKeyText = (BubbleData){166, (Byte []){200, 207, 197, 205, 200, 199, 203, 195, 143}, 8, false, 102, 227};


//: user_id
BubbleData kStr_styleMessageViewText = (BubbleData){101, (Byte []){16, 22, 0, 23, 58, 12, 1, 225}, 7, false, 24, 25};


//: msg
BubbleData kStr_hideContent = (BubbleData){157, (Byte []){240, 238, 250, 203}, 3, false, 37, 131};


//: /friend/shareList
BubbleData kStr_scaleViewData = (BubbleData){105, (Byte []){70, 15, 27, 0, 12, 7, 13, 70, 26, 1, 8, 27, 12, 37, 0, 26, 29, 208}, 17, false, 48, 161};


//: Block
BubbleData kStr_blueTitle = (BubbleData){243, (Byte []){177, 159, 156, 144, 152, 249}, 5, false, 29, 130};


//: covery_photo
BubbleData kStr_pathName = (BubbleData){224, (Byte []){131, 143, 150, 133, 146, 153, 191, 144, 136, 143, 148, 143, 61}, 12, false, 85, 58};


//: start
BubbleData kStr_areaSessionValue = (BubbleData){19, (Byte []){96, 103, 114, 97, 103, 162}, 5, false, 40, 157};


//: /friend/addBlock
BubbleData kStr_onInfoTitle = (BubbleData){188, (Byte []){147, 218, 206, 213, 217, 210, 216, 147, 221, 216, 216, 254, 208, 211, 223, 215, 89}, 16, false, 45, 131};


//: report_activity_title
BubbleData kStr_mobileBubbleValue = (BubbleData){248, (Byte []){138, 157, 136, 151, 138, 140, 167, 153, 155, 140, 145, 142, 145, 140, 129, 167, 140, 145, 140, 148, 157, 182}, 21, false, 15, 244};


//: group_info_activity_without
BubbleData kStr_providerContent = (BubbleData){45, (Byte []){74, 95, 66, 88, 93, 114, 68, 67, 75, 66, 114, 76, 78, 89, 68, 91, 68, 89, 84, 114, 90, 68, 89, 69, 66, 88, 89, 13}, 27, false, 78, 47};


//: praises
BubbleData kStr_colorEnableText = (BubbleData){205, (Byte []){189, 191, 172, 164, 190, 168, 190, 77}, 7, false, 162, 248};


//: code
BubbleData kStr_bubbleOpenName = (BubbleData){180, (Byte []){215, 219, 208, 209, 192}, 4, false, 191, 117};


//: image
BubbleData kStr_keySessionTitle = (BubbleData){71, (Byte []){46, 42, 38, 32, 34, 58}, 5, false, 48, 252};


//: fsid
BubbleData kStr_withShowViewText = (BubbleData){98, (Byte []){4, 17, 11, 6, 126}, 4, false, 249, 120};


//: /friend/sharePraise
BubbleData kStr_bubbleAtValue = (BubbleData){200, (Byte []){231, 174, 186, 161, 173, 166, 172, 231, 187, 160, 169, 186, 173, 152, 186, 169, 161, 187, 173, 11}, 19, false, 131, 131};

// __DEBUG__
// __CLOSE_PRINT__
//
//  MarginViewController.m
//  Riverla
//
//  Created by mac on 2025/3/31.
//  Copyright Â© 2025 Riverla. All rights reserved.
//

// __M_A_C_R_O__
//: #import "DisCorveyViewController.h"
#import "MarginViewController.h"
//: #import "DisCorveyTableViewCell.h"
#import "OrientationViewCell.h"
//: #import "DisCorveyDetailViewController.h"
#import "ArrayViewController.h"
//: #import "DisCorveyPublishViewController.h"
#import "RangeMaxViewController.h"
//: #import "disCorveyListModel.h"
#import "disCorveyListModel.h"
//: #import "WMZDialog.h"
#import "WMZDialog.h"
//: #import "ZMONTranslateView.h"
#import "TranslateView.h"
//: #import <MJRefresh/MJRefresh.h>
#import <MJRefresh/MJRefresh.h>
#import "AIAssistantViewController.h"
#import <QuartzCore/QuartzCore.h>

//: @interface DisCorveyViewController ()<UITableViewDelegate,UITableViewDataSource,DiscorveyCellDelegate,NTESReportContentDelegate>
@interface MarginViewController ()<UITableViewDelegate,UITableViewDataSource,TeamColor,AtTitleDelegate>

//: @property (nonatomic, strong) UITableView *tableView;
@property (nonatomic, strong) UITableView *tableView;
//: @property (nonatomic, strong) NSMutableArray *data;
@property (nonatomic, strong) NSMutableArray *data;
//: @property (nonatomic, strong) ZMONTranslateView *translateView;
@property (nonatomic, strong) TranslateView *translateView;

//: @property (nonatomic, strong) NSString *selectedFsId;
@property (nonatomic, strong) NSString *selectedFsId;

//: @property (nonatomic, strong) NSString *cuurentpage;
@property (nonatomic, strong) NSString *cuurentpage;
//: @property (nonatomic, strong) NSString *pagenum;
@property (nonatomic, strong) NSString *pagenum;
//: @property (nonatomic, strong) NSString *totalcount;
@property (nonatomic, strong) NSString *totalcount;

//: @property (nonatomic,strong) UIView *defView;
@property (nonatomic,strong) UIView *defView;
//: @property (nonatomic, strong) ZMONCustomLoadingView *loadingView;
@property (nonatomic, strong) LightView *loadingView;

//: @end
@end

//: @implementation DisCorveyViewController
@implementation MarginViewController

//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: self.navigationController.navigationBarHidden = YES;
    self.navigationController.navigationBarHidden = YES;

//    [SVProgressHUD show];
    //: self.loadingView.hidden = NO;
    self.loadingView.hidden = NO;
    //: [self loadData];
    [self atFor];
}

//: - (void)viewWillDisappear:(BOOL)animated{
- (void)viewWillDisappear:(BOOL)animated{
    //: [super viewWillDisappear:animated];
    [super viewWillDisappear:animated];
    //: self.navigationController.navigationBarHidden = NO;
    self.navigationController.navigationBarHidden = NO;
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.view.backgroundColor = [UIColor whiteColor];
    self.view.backgroundColor = [UIColor whiteColor];
    //: UIImageView *bg = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, 375)];
    UIImageView *bg = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, 375)];
    //: bg.image = [UIImage imageNamed:@"chat_top_bg"];
    bg.image = [UIImage imageNamed:StringFromBubbleData(&kStr_textIndexValue)];
    //: [self.view addSubview:bg];
    [self.view addSubview:bg];

    //: UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(0, [UIDevice vg_statusBarHeight], [[UIScreen mainScreen] bounds].size.width, 44)];
    UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(0, [UIDevice clear], [[UIScreen mainScreen] bounds].size.width, 44)];
    //: [self.view addSubview:topview];
    [self.view addSubview:topview];

    //: UILabel *labtitle = [[UILabel alloc]initWithFrame:CGRectMake(15, 0, 200, 44)];
    UILabel *labtitle = [[UILabel alloc]initWithFrame:CGRectMake(15, 0, 200, 44)];
    //: labtitle.textColor = [UIColor whiteColor];
    labtitle.textColor = [UIColor whiteColor];
    //: labtitle.font = [UIFont boldSystemFontOfSize:18];
    labtitle.font = [UIFont boldSystemFontOfSize:18];
    //: labtitle.text = [FFFLanguageManager getTextWithKey:@"discovery"];
    labtitle.text = [ItemManager sessionInformation:StringFromBubbleData(&kStr_pathSizeData)];
    //: [topview addSubview:labtitle];
    [topview addSubview:labtitle];

    //: UIButton *moreBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *moreBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: moreBtn.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-32-15-40, 10, 32, 32);
    moreBtn.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-32-15-40, 10, 32, 32);
    //: [moreBtn addTarget:self action:@selector(gotoUploadPic) forControlEvents:UIControlEventTouchUpInside];
    [moreBtn addTarget:self action:@selector(requestUpload) forControlEvents:UIControlEventTouchUpInside];
    //: [moreBtn setImage:[UIImage imageNamed:@"covery_photo"] forState:UIControlStateNormal];
    [moreBtn setImage:[UIImage imageNamed:StringFromBubbleData(&kStr_pathName)] forState:UIControlStateNormal];
    //: [topview addSubview:moreBtn];
    [topview addSubview:moreBtn];
    
    // æ·»å AIå©ææé®
    UIButton *aiBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    aiBtn.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-32-15, 10, 32, 32);
    [aiBtn addTarget:self action:@selector(openAIAssistant) forControlEvents:UIControlEventTouchUpInside];
    
    // åå»ºæ¸åèæ¯
    CAGradientLayer *gradientLayer = [CAGradientLayer layer];
    gradientLayer.frame = aiBtn.bounds;
    gradientLayer.colors = @[
        (id)[UIColor colorWithRed:0.4 green:0.6 blue:1.0 alpha:1.0].CGColor,
        (id)[UIColor colorWithRed:0.6 green:0.3 blue:1.0 alpha:1.0].CGColor
    ];
    gradientLayer.startPoint = CGPointMake(0, 0);
    gradientLayer.endPoint = CGPointMake(1, 1);
    gradientLayer.cornerRadius = 16;
    [aiBtn.layer insertSublayer:gradientLayer atIndex:0];
    
    [aiBtn setTitle:@"ð¤" forState:UIControlStateNormal];
    aiBtn.titleLabel.font = [UIFont systemFontOfSize:18];
    aiBtn.layer.cornerRadius = 16;
    aiBtn.layer.shadowColor = [UIColor blackColor].CGColor;
    aiBtn.layer.shadowOffset = CGSizeMake(0, 2);
    aiBtn.layer.shadowOpacity = 0.3;
    aiBtn.layer.shadowRadius = 4;
    [topview addSubview:aiBtn];

    //: UIView *contentView = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice vg_statusBarHeight])+10, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice vg_statusBarHeight]))];
    UIView *contentView = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice clear])+10, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice clear]))];
    //: contentView.backgroundColor = [UIColor colorWithHexString:@"#ffffff"];
    contentView.backgroundColor = [UIColor withMax:StringFromBubbleData(&kStr_bottomVideoTitle)];
    //: contentView.layer.cornerRadius = 34;
    contentView.layer.cornerRadius = 34;
    //: [self.view addSubview:contentView];
    [self.view addSubview:contentView];

    //: self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15,15, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice vg_statusBarHeight])-(49.0f)) style:UITableViewStyleGrouped];
    self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15,15, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice clear])-(49.0f)) style:UITableViewStyleGrouped];
    //: [self.view addSubview:self.tableView];
    [self.view addSubview:self.tableView];
    //: self.tableView.backgroundColor = [UIColor clearColor];
    self.tableView.backgroundColor = [UIColor clearColor];
    //: self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    //: self.tableView.showsVerticalScrollIndicator = NO;
    self.tableView.showsVerticalScrollIndicator = NO;
    //: self.tableView.delegate = self;
    self.tableView.delegate = self;
    //: self.tableView.dataSource = self;
    self.tableView.dataSource = self;
    //: [contentView addSubview:self.tableView];
    [contentView addSubview:self.tableView];
    //: [self.tableView registerClass:[DisCorveyTableViewCell class] forCellReuseIdentifier:@"DisCorveyTableViewCell"];
    [self.tableView registerClass:[OrientationViewCell class] forCellReuseIdentifier:@"OrientationViewCell"];

    //: self.cuurentpage = @"1";
    self.cuurentpage = @"1";
    //: self.data = [NSMutableArray array];
    self.data = [NSMutableArray array];
    //: [self setupRefresh];
    [self notMax];

    //: [self.view addSubview:self.defView];
    [self.view addSubview:self.defView];

    //: [self.view addSubview:self.loadingView];
    [self.view addSubview:self.loadingView];
    //: [self.view bringSubviewToFront:self.loadingView];
    [self.view bringSubviewToFront:self.loadingView];

}


//: - (void)setupRefresh {
- (void)notMax {
    // æ·»å ä¸æå·æ°
    //: MJRefreshNormalHeader *header = [MJRefreshNormalHeader headerWithRefreshingTarget:self refreshingAction:@selector(loadData)];
    MJRefreshNormalHeader *header = [MJRefreshNormalHeader headerWithRefreshingTarget:self refreshingAction:@selector(atFor)];
    //: header.stateLabel.hidden = YES;
    header.stateLabel.hidden = YES;
    //: header.lastUpdatedTimeLabel.hidden = YES; 
    header.lastUpdatedTimeLabel.hidden = YES; // éèæ¶é´
//    [header setTitle:@"Pull down refresh..." forState:MJRefreshStateIdle];
//    [header setTitle:@"refresh..." forState:MJRefreshStateRefreshing];
//    [header.stateLabel setTextColor:[UIColor colorWithWhite:0 alpha:1]];
    //: self.tableView.mj_header = header;
    self.tableView.mj_header = header;

    // æ·»å ä¸æå è½½æ´å¤
    //: MJRefreshAutoNormalFooter *footer = [MJRefreshAutoNormalFooter footerWithRefreshingTarget:self refreshingAction:@selector(loadMoreData)];
    MJRefreshAutoNormalFooter *footer = [MJRefreshAutoNormalFooter footerWithRefreshingTarget:self refreshingAction:@selector(viewData)];
    //: footer.refreshingTitleHidden = YES;
    footer.refreshingTitleHidden = YES;
    //: [footer setTitle:[FFFLanguageManager getTextWithKey:@"pull_more"] forState:MJRefreshStateIdle];
    [footer setTitle:[ItemManager sessionInformation:StringFromBubbleData(&kStr_bubbleStatusValue)] forState:MJRefreshStateIdle];

//        [footer setTitle:@"Pull up to load more..." forState:MJRefreshStateIdle];
//        [footer setTitle:@"Loading..." forState:MJRefreshStateRefreshing];
//        [footer setTitle:@"No more data" forState:MJRefreshStateNoMoreData];
//    [footer.stateLabel setTextColor:[UIColor colorWithWhite:0 alpha:1]];
    //: self.tableView.mj_footer = footer;
    self.tableView.mj_footer = footer;

}

//: - (void)loadData {
- (void)atFor {
    // æ¨¡æç½ç»è¯·æ±å»¶è¿
    //: dispatch_after(dispatch_time((0ull), (int64_t)(1.0 * 1000000000ull)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(1.0 * 1000000000ull)), dispatch_get_main_queue(), ^{
        // æ¸ç©ºæ°æ®å¹¶éæ°å è½½
        //: [self.data removeAllObjects];
        [self.data removeAllObjects];

        //: self.cuurentpage = @"1";
        self.cuurentpage = @"1";
        //: [self requestfriendShareList]; 
        [self icon]; // éæ°å è½½åå§æ°æ®
        //: [self.tableView.mj_header endRefreshing]; 
        [self.tableView.mj_header endRefreshing]; // ç»æä¸æå·æ°
    //: });
    });
}

//: - (void)loadMoreData
- (void)viewData
{
    // æ¨¡æç½ç»è¯·æ±å»¶è¿
       //: dispatch_after(dispatch_time((0ull), (int64_t)(1.0 * 1000000000ull)), dispatch_get_main_queue(), ^{
       dispatch_after(dispatch_time((0ull), (int64_t)(1.0 * 1000000000ull)), dispatch_get_main_queue(), ^{

//           NSInteger currentCount = self.data.count;
//           if (currentCount < self.totalcount.intValue) {

               //: self.cuurentpage = [NSString stringWithFormat:@"%d",self.cuurentpage.intValue+1];
               self.cuurentpage = [NSString stringWithFormat:@"%d",self.cuurentpage.intValue+1];
               //: [self requestfriendShareList];
               [self icon];

//           } else {
//               [self.tableView.mj_footer endRefreshingWithNoMoreData]; // æ¾ç¤ºæ²¡ææ´å¤æ°æ®
//           }

           //: [self.tableView.mj_footer endRefreshing]; 
           [self.tableView.mj_footer endRefreshing]; //ç»æä¸æå è½½
       //: });
       });
}

//: - (void)requestfriendShareList
- (void)icon
{
    //: self.loadingView.hidden = NO;
    self.loadingView.hidden = NO;
    //: NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    //: [dict setObject:self.cuurentpage forKey:@"start"];
    [dict setObject:self.cuurentpage forKey:StringFromBubbleData(&kStr_areaSessionValue)];
    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/friend/shareList"] params:dict isShow:NO success:^(id responseObject) {
    [PhotoManager towardExtra:[NSString stringWithFormat:StringFromBubbleData(&kStr_scaleViewData)] tool:dict examine:NO titleResponseSuccess:^(id responseObject) {
        @
         //: try{} @finally{} __typeof__(self) self = __weak_self__;
         try{} @finally{} __typeof__(self) self = __weak_self__;
//        [SVProgressHUD dismiss];
        //: self.loadingView.hidden = YES;
        self.loadingView.hidden = YES;
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict with:StringFromBubbleData(&kStr_bubbleOpenName)];
        //: NSArray *dicList = [resultDict valueObjectForKey:@"data"];
        NSArray *dicList = [resultDict view:StringFromBubbleData(&kStr_addIndexTitle)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
//            [self.data removeAllObjects];
            //: NSMutableArray *lists = [NSMutableArray array];
            NSMutableArray *lists = [NSMutableArray array];
            //: for (NSDictionary *videoDict in dicList) {
            for (NSDictionary *videoDict in dicList) {
                //: disCorveyListModel *modelItem = [[disCorveyListModel alloc] init];
                disCorveyListModel *modelItem = [[disCorveyListModel alloc] init];
                //: modelItem.user_id = [videoDict newStringValueForKey:@"user_id"];
                modelItem.user_id = [videoDict with:StringFromBubbleData(&kStr_styleMessageViewText)];
                //: modelItem.headsmall = [videoDict newStringValueForKey:@"headsmall"];
                modelItem.headsmall = [videoDict with:StringFromBubbleData(&kStr_changeMobileValue)];
                //: modelItem.nickname = [videoDict newStringValueForKey:@"nickname"];
                modelItem.nickname = [videoDict with:StringFromBubbleData(&kStr_contentChangeKeyText)];
                //: modelItem.pictureArray = [videoDict arrayValueForKey:@"picture"];
                modelItem.pictureArray = [videoDict checked:StringFromBubbleData(&kStr_areaTimeData)];
                //: modelItem.ispraise = [videoDict newStringValueForKey:@"ispraise"];
                modelItem.ispraise = [videoDict with:StringFromBubbleData(&kStr_remoteCellContentValue)];
                //: modelItem.praises = [videoDict newStringValueForKey:@"praises"];
                modelItem.praises = [videoDict with:StringFromBubbleData(&kStr_colorEnableText)];
                //: modelItem.fsId = [videoDict newStringValueForKey:@"id"];
                modelItem.fsId = [videoDict with:@"id"];
                //: if (modelItem.pictureArray.count<=3) {
                if (modelItem.pictureArray.count<=3) {
                    //: [lists addObject:modelItem];
                    [lists addObject:modelItem];
                }

            }

            //: [self.data addObjectsFromArray:lists];
            [self.data addObjectsFromArray:lists];

            //: if (self.data.count>0) {
            if (self.data.count>0) {
                //: self.defView.hidden = YES;
                self.defView.hidden = YES;
                //: self.tableView.hidden = NO;
                self.tableView.hidden = NO;
                //: [self.tableView reloadData];
                [self.tableView reloadData];
            //: }else{
            }else{
                //: self.defView.hidden = NO;
                self.defView.hidden = NO;
                //: self.tableView.hidden = YES;
                self.tableView.hidden = YES;
            }
//            [self.tableView reloadData];

        }
    //: } failed:^(id responseObject, NSError *error) {
    } exhibitClick:^(id responseObject, NSError *error) {
//        [SVProgressHUD dismiss];
        //: self.loadingView.hidden = YES;
        self.loadingView.hidden = YES;
        //: [self.tableView reloadData];
        [self.tableView reloadData];
    //: }];
    }];
}


//: -(void)gotoUploadPic
-(void)requestUpload
{
    //: DisCorveyPublishViewController *vc = [[DisCorveyPublishViewController alloc]init];
    RangeMaxViewController *vc = [[RangeMaxViewController alloc]init];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

// æå¼AIå©æ
-(void)openAIAssistant
{
    AIAssistantViewController *aiVC = [[AIAssistantViewController alloc] init];
    [self.navigationController pushViewController:aiVC animated:YES];
}

//: - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    //: return self.data.count;
    return self.data.count;
}

//: - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {

    //: return 1;
    return 1;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {

//    return 280;

//    NSDictionary *dic = self.data[indexPath.section];
//    NSArray *picList = [dic valueObjectForKey:@"picArray"];

    //: disCorveyListModel *dic = self.data[indexPath.section];
    disCorveyListModel *dic = self.data[indexPath.section];

    //: if(dic.pictureArray.count == 1){
    if(dic.pictureArray.count == 1){
        //: return 280;
        return 280;
    //: }else if (dic.pictureArray.count == 2){
    }else if (dic.pictureArray.count == 2){
        //: return 177;
        return 177;
    //: }else if (dic.pictureArray.count == 3){
    }else if (dic.pictureArray.count == 3){
        //: return 285;
        return 285;
    //: }else{
    }else{
        //: return 0;
        return 0;
    }
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
    //: return 10;
    return 10;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
    //: UIView *backView = [UIView new];
    UIView *backView = [UIView new];
    //: backView.backgroundColor = [UIColor clearColor];
    backView.backgroundColor = [UIColor clearColor];
    //: return backView;
    return backView;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    //: return 2.2250738585072014e-308;
    return 2.2250738585072014e-308;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    //: UIView *backView = [UIView new];
    UIView *backView = [UIView new];
    //: backView.backgroundColor = [UIColor clearColor];
    backView.backgroundColor = [UIColor clearColor];
    //: return backView;
    return backView;
}

//: - (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
- (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    //: DisCorveyTableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:@"DisCorveyTableViewCell" forIndexPath:indexPath];
    OrientationViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:@"OrientationViewCell" forIndexPath:indexPath];
    //: cell.delegate = self;
    cell.delegate = self;

    //: disCorveyListModel *dic = self.data[indexPath.section];
    disCorveyListModel *dic = self.data[indexPath.section];
    //: [cell refreshDateModel:dic isMyLog:NO];
    [cell restoreModelBeggarMyNeighborPolicyLogDate:dic pinLog:NO];

      //: return cell;
      return cell;
}

//: - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

    //: [tableView deselectRowAtIndexPath:indexPath animated:YES];
    [tableView deselectRowAtIndexPath:indexPath animated:YES];

    //: disCorveyListModel *dic = self.data[indexPath.section];
    disCorveyListModel *dic = self.data[indexPath.section];
    //: DisCorveyDetailViewController *vc = [[DisCorveyDetailViewController alloc]init];
    ArrayViewController *vc = [[ArrayViewController alloc]init];
    //: vc.modelInfo = dic;
    vc.modelInfo = dic;
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)didTouchButton:(disCorveyListModel *)model
- (void)fixing:(disCorveyListModel *)model
{
    //: NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    //: [dict setObject:model.fsId forKey:@"fsid"];
    [dict setObject:model.fsId forKey:StringFromBubbleData(&kStr_withShowViewText)];
    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/friend/sharePraise"] params:dict isShow:NO success:^(id responseObject) {
    [PhotoManager towardExtra:[NSString stringWithFormat:StringFromBubbleData(&kStr_bubbleAtValue)] tool:dict examine:NO titleResponseSuccess:^(id responseObject) {
        @
         //: try{} @finally{} __typeof__(self) self = __weak_self__;
         try{} @finally{} __typeof__(self) self = __weak_self__;
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict with:StringFromBubbleData(&kStr_bubbleOpenName)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {


        }
    //: } failed:^(id responseObject, NSError *error) {
    } exhibitClick:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: - (void)handleTheBlock:(NSString *)userID
- (void)insert:(NSString *)userID
{
    //: NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    NSMutableDictionary *dict = [NSMutableDictionary dictionary];
    //: [dict setObject:userID forKey:@"fid"];
    [dict setObject:userID forKey:StringFromBubbleData(&kStr_objectShouldContent)];
    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/friend/addBlock"] params:dict isShow:NO success:^(id responseObject) {
    [PhotoManager towardExtra:[NSString stringWithFormat:StringFromBubbleData(&kStr_onInfoTitle)] tool:dict examine:NO titleResponseSuccess:^(id responseObject) {
        @
         //: try{} @finally{} __typeof__(self) self = __weak_self__;
         try{} @finally{} __typeof__(self) self = __weak_self__;
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict with:StringFromBubbleData(&kStr_bubbleOpenName)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {

           //: [self loadData];
           [self atFor];
        }
    //: } failed:^(id responseObject, NSError *error) {
    } exhibitClick:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: - (void)didTouchMoreButton:(UIButton*)sender modle:(disCorveyListModel *)model
- (void)compartment:(UIButton*)sender topModle:(disCorveyListModel *)model
{
    //: NSArray *dateList = [NSArray array];
    NSArray *dateList = [NSArray array];
    //: if ([model.user_id isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]]) {
    if ([model.user_id isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]]) {
        //: dateList = @[
        dateList = @[
            //: @{@"name":[FFFLanguageManager getTextWithKey:@"report_activity_title"],@"image":@"covery_report"}
            @{StringFromBubbleData(&kStr_hideItemText):[ItemManager sessionInformation:StringFromBubbleData(&kStr_mobileBubbleValue)],StringFromBubbleData(&kStr_keySessionTitle):StringFromBubbleData(&kStr_viewTingTitle)}
        //: ];
        ];
    //: }else{
    }else{
        //: dateList = @[
        dateList = @[
            //: @{@"name":[FFFLanguageManager getTextWithKey:@"report_activity_title"],@"image":@"covery_report"},
            @{StringFromBubbleData(&kStr_hideItemText):[ItemManager sessionInformation:StringFromBubbleData(&kStr_mobileBubbleValue)],StringFromBubbleData(&kStr_keySessionTitle):StringFromBubbleData(&kStr_viewTingTitle)},
           //: @{@"name":[FFFLanguageManager getTextWithKey:@"Block"],@"image":@"covery_block"},
           @{StringFromBubbleData(&kStr_hideItemText):[ItemManager sessionInformation:StringFromBubbleData(&kStr_blueTitle)],StringFromBubbleData(&kStr_keySessionTitle):StringFromBubbleData(&kStr_tingDirectionData)},
        //: ];
        ];
    }
    //: Dialog()
    Dialog()
        //: .wTypeSet(DialogTypePop)
        .wTypeSet(DialogTypePop)
    //    .wDirectionSet(directionright)
        //: .wTapViewTypeSet(DiaPopInViewTableView)
        .wTapViewTypeSet(DiaPopInViewTableView)
        //: .wEventFinishSet(^(id anyID, NSIndexPath *path, DialogType type) {
        .wEventFinishSet(^(id anyID, NSIndexPath *path, DialogType type) {
            //: NSLog(@"%@,anyID %@",anyID,path);
            //: if (path.row == 0) {
            if (path.row == 0) {
                //: self.selectedFsId = model.fsId;
                self.selectedFsId = model.fsId;
                //: [self.view addSubview:self.translateView];
                [self.view addSubview:self.translateView];
                //: [self.translateView animationShow];
                [self.translateView along];
            //: }else if (path.row == 1){
            }else if (path.row == 1){
                //: [self handleTheBlock:model.user_id];
                [self insert:model.user_id];
            }

        //: })
        })
    //: .wShowAnimationSet(AninatonZoomIn)
    .wShowAnimationSet(AninatonZoomIn)
    //: .wHideAnimationSet(AninatonZoomOut)
    .wHideAnimationSet(AninatonZoomOut)
    //: .wPercentOrginXSet(40)
    .wPercentOrginXSet(40)
    //: .wTapViewSet(sender)
    .wTapViewSet(sender)
    ///å¦ææ¯èªå®ä¹çtableViewæècollectionViewæscrollView
//    .wPopNestStopViewSet(@"GNTableView")
//    .wMainBackColorSet([UIColor redColor])
    //: .wPopViewRectCornerSet(DialogRectCornerAllCorners)
    .wPopViewRectCornerSet(DialogRectCornerAllCorners)
    //: .wDataSet(dateList)
    .wDataSet(dateList)
    //: .wImageSizeSet(CGSizeMake(20, 20))
    .wImageSizeSet(CGSizeMake(20, 20))
    //: .wWidthSet(150)
    .wWidthSet(150)
    //: .wStart();
    .wStart();
}

//: - (ZMONTranslateView *)translateView
- (TranslateView *)translateView
                         {
                             //: if(!_translateView){
                             if(!_translateView){
                                 //: _translateView = [[ZMONTranslateView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
                                 _translateView = [[TranslateView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
                                 //: _translateView.delegate = self;
                                 _translateView.delegate = self;
                             }
                             //: return _translateView;
                             return _translateView;
                         }

//: - (void)didTouchSubmitContentButton:(NSString *)reason
- (void)barAccount:(NSString *)reason
{
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
        //: dict[@"fsid"] = self.selectedFsId;
        dict[StringFromBubbleData(&kStr_withShowViewText)] = self.selectedFsId;
    //: [ZCHttpManager postWithUrl:[NSString stringWithFormat:@"/friend/addComplaint"] params:dict isShow:NO success:^(id responseObject) {
    [PhotoManager militaryInstallationMenuMedia:[NSString stringWithFormat:StringFromBubbleData(&kStr_bottomText)] event:dict current:NO titleFailed:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict with:StringFromBubbleData(&kStr_bubbleOpenName)];
        //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
        NSString *msg = [resultDict with:StringFromBubbleData(&kStr_hideContent)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
            //: [self.view makeToast:[FFFLanguageManager getTextWithKey:@"report_sucessed"] duration:2.0 position:CSToastPositionCenter];
            [self.view makeToast:[ItemManager sessionInformation:StringFromBubbleData(&kStr_textContent)] duration:2.0 position:CSToastPositionCenter];
        }
    //: } failed:^(id responseObject, NSError *error) {
    } checked:^(id responseObject, NSError *error) {

    //: }];
    }];

}

//: - (UIView *)defView{
- (UIView *)defView{
    //: if(!_defView){
    if(!_defView){
        //: _defView = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice vg_statusBarHeight])+50, [[UIScreen mainScreen] bounds].size.width, 200)];
        _defView = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice clear])+50, [[UIScreen mainScreen] bounds].size.width, 200)];
        //: _defView.hidden = YES;
        _defView.hidden = YES;

        //: UIImageView *defImg = [[UIImageView alloc]initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-213)/2, 150, 213, 148)];
        UIImageView *defImg = [[UIImageView alloc]initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-213)/2, 150, 213, 148)];
        //: defImg.image = [UIImage imageNamed:@"ic_none_LogList"];
        defImg.image = [UIImage imageNamed:StringFromBubbleData(&kStr_cellTitle)];
        //: [_defView addSubview:defImg];
        [_defView addSubview:defImg];


        //: UILabel *emptyTipLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, defImg.bottom+5, [[UIScreen mainScreen] bounds].size.width, 20)];
        UILabel *emptyTipLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, defImg.bottom+5, [[UIScreen mainScreen] bounds].size.width, 20)];
        //: emptyTipLabel.textColor = [UIColor colorWithHexString:@"#999999"];
        emptyTipLabel.textColor = [UIColor withMax:StringFromBubbleData(&kStr_handleInfoData)];
        //: emptyTipLabel.font = [UIFont systemFontOfSize:12];
        emptyTipLabel.font = [UIFont systemFontOfSize:12];
        //: emptyTipLabel.textAlignment = NSTextAlignmentCenter;
        emptyTipLabel.textAlignment = NSTextAlignmentCenter;
        //: [_defView addSubview:emptyTipLabel];
        [_defView addSubview:emptyTipLabel];
        //: emptyTipLabel.text = [FFFLanguageManager getTextWithKey:@"group_info_activity_without"];
        emptyTipLabel.text = [ItemManager sessionInformation:StringFromBubbleData(&kStr_providerContent)];


    }
    //: return _defView;
    return _defView;
}

//: - (ZMONCustomLoadingView *)loadingView
- (LightView *)loadingView
{
    //: if(!_loadingView){
    if(!_loadingView){
        //: _loadingView = [[ZMONCustomLoadingView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        _loadingView = [[LightView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        //: _loadingView.hidden = YES;
        _loadingView.hidden = YES;
    }
    //: return _loadingView;
    return _loadingView;
}

//: @end
@end

Byte *BubbleDataToByte(BubbleData *data) {
    if (data->straightAndNarrowStatus) return data->textMediaAt;
    for (int i = 0; i < data->alongShow; i++) {
        data->textMediaAt[i] ^= data->onQueryed;
    }
    data->textMediaAt[data->alongShow] = 0;
    data->straightAndNarrowStatus = true;
	if (data->alongShow >= 2) {
		data->happening = data->textMediaAt[0];
		data->smallness = data->textMediaAt[1];
	}
    return data->textMediaAt;
}

NSString *StringFromBubbleData(BubbleData *data) {
    return [NSString stringWithUTF8String:(char *)BubbleDataToByte(data)];
}
