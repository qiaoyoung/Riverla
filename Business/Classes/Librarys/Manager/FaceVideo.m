
#import <Foundation/Foundation.h>

NSString *StringFromSetClerkData(Byte *data);


//: question
Byte kStr_ovenText[] = {94, 8, 94, 12, 244, 42, 85, 240, 126, 13, 64, 42, 207, 211, 195, 209, 210, 199, 205, 204, 238};


//: register_avtivity3_register_fail
Byte kStr_cageFieldValue[] = {45, 32, 12, 9, 218, 157, 223, 108, 14, 126, 113, 115, 117, 127, 128, 113, 126, 107, 109, 130, 128, 117, 130, 117, 128, 133, 63, 107, 126, 113, 115, 117, 127, 128, 113, 126, 107, 114, 109, 117, 120, 156};


//: msg
Byte kStr_applyAbsenceData[] = {23, 3, 29, 4, 138, 144, 132, 193};


//: account
Byte kStr_departmentName[] = {96, 7, 95, 5, 13, 192, 194, 194, 206, 212, 205, 211, 136};


//: username
Byte kStr_viewApprovalTitle[] = {4, 8, 29, 10, 101, 60, 240, 143, 189, 205, 146, 144, 130, 143, 139, 126, 138, 130, 176};


//: password
Byte kStr_regularTitle[] = {4, 8, 76, 14, 96, 29, 99, 93, 186, 2, 17, 216, 100, 91, 188, 173, 191, 191, 195, 187, 190, 176, 58};


//: /user/ismustmobile
Byte kStr_roseBreatheLeasedData[] = {98, 18, 5, 14, 113, 251, 25, 222, 66, 12, 182, 6, 149, 5, 52, 122, 120, 106, 119, 52, 110, 120, 114, 122, 120, 121, 114, 116, 103, 110, 113, 106, 101};


//: invitecode
Byte kStr_ohHornTitle[] = {48, 10, 40, 9, 242, 106, 220, 232, 202, 145, 150, 158, 145, 156, 141, 139, 151, 140, 141, 131};


//: gender
Byte kStr_ballTitle[] = {51, 6, 64, 8, 90, 108, 104, 147, 167, 165, 174, 164, 165, 178, 166};


//: mobile
Byte kStr_wayImageTitle[] = {17, 6, 79, 6, 155, 141, 188, 190, 177, 184, 187, 180, 79};


//: /user/smsregister
Byte kStr_softText[] = {10, 17, 78, 5, 26, 125, 195, 193, 179, 192, 125, 193, 187, 193, 192, 179, 181, 183, 193, 194, 179, 192, 216};


//: UserPassWord
Byte kStr_breatheValue[] = {56, 12, 20, 12, 140, 123, 196, 72, 188, 40, 48, 46, 105, 135, 121, 134, 100, 117, 135, 135, 107, 131, 134, 120, 49};


//: mobilecode
Byte kStr_absenceData[] = {13, 10, 14, 8, 97, 154, 193, 163, 123, 125, 112, 119, 122, 115, 113, 125, 114, 115, 90};


//: code
Byte kStr_colorPoValue[] = {7, 4, 54, 12, 64, 167, 131, 156, 24, 67, 203, 74, 153, 165, 154, 155, 17};


//: passwd
Byte kStr_albumPureData[] = {2, 6, 92, 9, 123, 60, 71, 119, 56, 204, 189, 207, 207, 211, 192, 225};


//: answer
Byte kStr_tubWeakenValue[] = {4, 6, 9, 8, 58, 9, 220, 36, 106, 119, 124, 128, 110, 123, 172};


//: head_default
Byte kStr_cattleTitle[] = {49, 12, 56, 5, 120, 160, 157, 153, 156, 151, 156, 157, 158, 153, 173, 164, 172, 126};


//: UserAccount
Byte kStr_motivateValue[] = {56, 11, 44, 13, 120, 181, 100, 135, 33, 245, 190, 232, 199, 129, 159, 145, 158, 109, 143, 143, 155, 161, 154, 160, 162};


//: client
Byte kStr_breadName[] = {15, 6, 37, 9, 238, 178, 219, 4, 26, 136, 145, 142, 138, 147, 153, 168};


//: /user/register
Byte kStr_fessFavorableTitle[] = {56, 14, 13, 8, 101, 245, 253, 162, 60, 130, 128, 114, 127, 60, 127, 114, 116, 118, 128, 129, 114, 127, 248};


//: iOS
Byte kStr_onDateName[] = {36, 3, 43, 11, 135, 169, 94, 12, 254, 180, 178, 148, 122, 126, 83};


//: friend_verify_avtivity_net_error
Byte kStr_sireGoodValue[] = {57, 32, 9, 12, 71, 220, 140, 114, 51, 16, 102, 249, 111, 123, 114, 110, 119, 109, 104, 127, 110, 123, 114, 111, 130, 104, 106, 127, 125, 114, 127, 114, 125, 130, 104, 119, 110, 125, 104, 110, 123, 123, 120, 123, 166};


//: RegistFinshNotification
Byte kStr_valeName[] = {73, 23, 5, 4, 87, 106, 108, 110, 120, 121, 75, 110, 115, 120, 109, 83, 116, 121, 110, 107, 110, 104, 102, 121, 110, 116, 115, 127};


//: /validate/check_username_available
Byte kStr_strengthenValue[] = {39, 34, 43, 4, 90, 161, 140, 151, 148, 143, 140, 159, 144, 90, 142, 147, 144, 142, 150, 138, 160, 158, 144, 157, 153, 140, 152, 144, 138, 140, 161, 140, 148, 151, 140, 141, 151, 144, 168};

// __DEBUG__
// __CLOSE_PRINT__
//
//  FaceVideo.m
//  NIM
//
//  Created by 彭爽 on 2021/9/6.
//  Copyright © 2021 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "NTESRegistConfigManager.h"
#import "FaceVideo.h"

//: @interface NTESRegistConfigManager ()
@interface FaceVideo ()
//: @property (nonatomic ,strong) UINavigationController *nav;
@property (nonatomic ,strong) UINavigationController *nav;
//: @end
@end

//: @implementation NTESRegistConfigManager
@implementation FaceVideo

//: static NTESRegistConfigManager *shareConfigManager = nil;
static FaceVideo *let_stretchName = nil;

//: + (NTESRegistConfigManager *)shareConfigManager {
+ (FaceVideo *)manager {
    //: @synchronized(self) {
    @synchronized(self) {
        //: if (shareConfigManager == nil) {
        if (let_stretchName == nil) {
            //: shareConfigManager = [[NTESRegistConfigManager alloc] init];
            let_stretchName = [[FaceVideo alloc] init];

            //: [shareConfigManager registDictDefault];
            [let_stretchName app];
        }
        //: return shareConfigManager;
        return let_stretchName;
    }
}

//: - (NSMutableDictionary *)registDictDefault{
- (NSMutableDictionary *)app{
    //: [NTESRegistConfigManager shareConfigManager].registDict = [NSMutableDictionary dictionaryWithCapacity:0];
    [FaceVideo manager].registDict = [NSMutableDictionary dictionaryWithCapacity:0];
    //: NSMutableDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSMutableDictionary *dict = [FaceVideo manager].registDict;
    //: [dict setObject:@"iOS" forKey:@"client"];
    [dict setObject:StringFromSetClerkData(kStr_onDateName) forKey:StringFromSetClerkData(kStr_breadName)];
    //: [dict setObject:@"" forKey:@"invitecode"];
    [dict setObject:@"" forKey:StringFromSetClerkData(kStr_ohHornTitle)];
    //: [dict setObject:@"" forKey:@"mobilecode"];
    [dict setObject:@"" forKey:StringFromSetClerkData(kStr_absenceData)];
    //: [dict setObject:@"" forKey:@"question"];
    [dict setObject:@"" forKey:StringFromSetClerkData(kStr_ovenText)];
    //: [dict setObject:@"" forKey:@"answer"];
    [dict setObject:@"" forKey:StringFromSetClerkData(kStr_tubWeakenValue)];
    //: [dict setObject:@"1" forKey:@"gender"];
    [dict setObject:@"1" forKey:StringFromSetClerkData(kStr_ballTitle)];

    //: return [NTESRegistConfigManager shareConfigManager].registDict;
    return [FaceVideo manager].registDict;
}

//: + (void)refreshRegistConfig{
+ (void)emotion{

    //: [ZCHttpManager postWithUrl:[NSString stringWithFormat:@"/user/ismustmobile"] params:nil isShow:NO success:^(id responseObject) {
    [InfoManager should:[NSString stringWithFormat:StringFromSetClerkData(kStr_roseBreatheLeasedData)] after:nil dataDisable:NO displayDatePress:^(id responseObject) {

    //: } failed:^(id responseObject, NSError *error) {
    } textMessage:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: + (void)firstSendRegistName:(NSString *)name pd:(NSString *)pd RequestWithComplete:(void(^)(BOOL sucess, NSString * msg))complete {
+ (void)showBar:(NSString *)name object:(NSString *)pd name:(void(^)(BOOL sucess, NSString * msg))complete {

    //#define Server_first_regist_config    [NSString stringWithFormat:@"%@/api/validate/check_username_available",[BirdSEyeViewConfig sharedConfig].domainURL]
    //: [ZCHttpManager postWithUrl:[NSString stringWithFormat:@"/validate/check_username_available"] params:@{@"username":name , @"passwd":pd } isShow:NO success:^(id responseObject) {
    [InfoManager should:[NSString stringWithFormat:StringFromSetClerkData(kStr_strengthenValue)] after:@{StringFromSetClerkData(kStr_viewApprovalTitle):name , StringFromSetClerkData(kStr_albumPureData):pd } dataDisable:NO displayDatePress:^(id responseObject) {

        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict speedy:StringFromSetClerkData(kStr_colorPoValue)];
        //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
        NSString *msg = [resultDict speedy:StringFromSetClerkData(kStr_applyAbsenceData)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
            //: !complete ? : complete(YES,msg);
            !complete ? : complete(YES,msg);
        //: } else {
        } else {
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD rangeMessage:msg];
            //: !complete ? : complete(NO,msg);
            !complete ? : complete(NO,msg);
        }

    //: } failed:^(id responseObject, NSError *error) {
    } textMessage:^(id responseObject, NSError *error) {
        //: !complete ? : complete(NO,[FFFLanguageManager getTextWithKey:@"friend_verify_avtivity_net_error"]);
        !complete ? : complete(NO,[TeamManager sizeKey:StringFromSetClerkData(kStr_sireGoodValue)]);
    //: }];
    }];
}


//: + (void)sendRegistRequest:(UINavigationController *)nav{
+ (void)content:(UINavigationController *)nav{

    //: [NTESRegistConfigManager shareConfigManager].nav = nav;
    [FaceVideo manager].nav = nav;
    //: NSString *ismustmobile = [NIMUserDefaults standardUserDefaults].ismustmobile;
    NSString *ismustmobile = [BlondeDefaults phone].ismustmobile;//是否手机

    //: if ([NTESRegistConfigManager shareConfigManager].headerImage == nil) {
    if ([FaceVideo manager].headerImage == nil) {//默认头像
        //: [NTESRegistConfigManager shareConfigManager].headerImage = [UIImage imageNamed:@"head_default"];
        [FaceVideo manager].headerImage = [UIImage imageNamed:StringFromSetClerkData(kStr_cattleTitle)];
    }

    //: if (ismustmobile.integerValue > 0) {
    if (ismustmobile.integerValue > 0) {
        //: [[NTESRegistConfigManager shareConfigManager] mobileRegist];
        [[FaceVideo manager] along];
    //: }else{
    }else{
        //: [[NTESRegistConfigManager shareConfigManager] accountRegist];
        [[FaceVideo manager] showRegist];

    }

}

//: -(void)mobileRegist{
-(void)along{

    //: NSString *account = [[NTESRegistConfigManager shareConfigManager].registDict newStringValueForKey:@"account"];
    NSString *account = [[FaceVideo manager].registDict speedy:StringFromSetClerkData(kStr_departmentName)];
    //: [[NTESRegistConfigManager shareConfigManager].registDict setObject:account forKey:@"mobile"];
    [[FaceVideo manager].registDict setObject:account forKey:StringFromSetClerkData(kStr_wayImageTitle)];

    //: NSDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSDictionary *dict = [FaceVideo manager].registDict;
    //: UIImage *image = [NTESRegistConfigManager shareConfigManager].headerImage;
    UIImage *image = [FaceVideo manager].headerImage;

    //: if (!image) {
    if (!image) {

        //: [ZCHttpManager uploadImagesWithURL:[NSString stringWithFormat:@"/user/smsregister"] parameters:dict images:@[UIImageJPEGRepresentation(image, 0.3)] progress:^(NSProgress *progress) {
        [InfoManager images:[NSString stringWithFormat:StringFromSetClerkData(kStr_softText)] modelPinFailed:dict last:@[UIImageJPEGRepresentation(image, 0.3)] positionHttpProgress:^(NSProgress *progress) {

        //: } success:^(id responseObject) {
        } doingFailed:^(id responseObject) {
            //: NSLog(@"%@",responseObject);
            //: [self.nav popToRootViewControllerAnimated:YES];
            [self.nav popToRootViewControllerAnimated:YES];


        //: } failed:^(id responseObject, NSError *error) {
        } peg:^(id responseObject, NSError *error) {
            //: NSLog(@"%@",error);

        //: }];
        }];
    //: }else{
    }else{
        //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/smsregister"] params:dict isShow:YES success:^(id responseObject) {
        [InfoManager enable:[NSString stringWithFormat:StringFromSetClerkData(kStr_softText)] sub:dict record:YES tapGetFailed:^(id responseObject) {
            //: NSDictionary *resultDict = (NSDictionary *)responseObject;
            NSDictionary *resultDict = (NSDictionary *)responseObject;
            //: NSString *code = [resultDict newStringValueForKey:@"code"];
            NSString *code = [resultDict speedy:StringFromSetClerkData(kStr_colorPoValue)];
            //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
            NSString *msg = [resultDict speedy:StringFromSetClerkData(kStr_applyAbsenceData)];
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD rangeMessage:msg];
            //: if (code.integerValue <= 0) {
            if (code.integerValue <= 0) {
                //: [self.nav popToRootViewControllerAnimated:YES];
                [self.nav popToRootViewControllerAnimated:YES];

                //: NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                //: [notiDict setObject:[dict newStringValueForKey:@"account"] ? :@"" forKey:@"UserAccount"];
                [notiDict setObject:[dict speedy:StringFromSetClerkData(kStr_departmentName)] ? :@"" forKey:StringFromSetClerkData(kStr_motivateValue)];
                //: [notiDict setObject:[dict newStringValueForKey:@"password"] ? :@"" forKey:@"UserPassWord"];
                [notiDict setObject:[dict speedy:StringFromSetClerkData(kStr_regularTitle)] ? :@"" forKey:StringFromSetClerkData(kStr_breatheValue)];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:@"RegistFinshNotification" object:notiDict];
                [[NSNotificationCenter defaultCenter] postNotificationName:StringFromSetClerkData(kStr_valeName) object:notiDict];


            }
        //: } failed:^(id responseObject, NSError *error) {
        } failedSmartOccurrentSelectShowGet:^(id responseObject, NSError *error) {

        //: }];
        }];
    }


}

//: -(void)accountRegist{
-(void)showRegist{

    //: NSDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSDictionary *dict = [FaceVideo manager].registDict;
    //: UIImage *image = [NTESRegistConfigManager shareConfigManager].headerImage;
    UIImage *image = [FaceVideo manager].headerImage;
    //: UIImage *imageForAvatarUpload = [image imageByScalingAndCroppingForSize:CGSizeMake(150, 150)];
    UIImage *imageForAvatarUpload = [image remove:CGSizeMake(150, 150)];

    //: if (image) {
    if (image) {
        //: [ZCHttpManager uploadImagesWithURL:[NSString stringWithFormat:@"/user/register"] parameters:dict images:@[UIImageJPEGRepresentation(imageForAvatarUpload, 0.7)] progress:^(NSProgress *progress) {
        [InfoManager images:[NSString stringWithFormat:StringFromSetClerkData(kStr_fessFavorableTitle)] modelPinFailed:dict last:@[UIImageJPEGRepresentation(imageForAvatarUpload, 0.7)] positionHttpProgress:^(NSProgress *progress) {

        //: } success:^(id responseObject) {
        } doingFailed:^(id responseObject) {
            //: NSDictionary *resultDict = (NSDictionary *)responseObject;
            NSDictionary *resultDict = (NSDictionary *)responseObject;
            //: NSString *code = [resultDict newStringValueForKey:@"code"];
            NSString *code = [resultDict speedy:StringFromSetClerkData(kStr_colorPoValue)];
            //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
            NSString *msg = [resultDict speedy:StringFromSetClerkData(kStr_applyAbsenceData)];
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD rangeMessage:msg];

            //: if (code.integerValue <= 0) {
            if (code.integerValue <= 0) {
                //: [self.nav popToRootViewControllerAnimated:YES];
                [self.nav popToRootViewControllerAnimated:YES];
                //: NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                //: NSString *mobile = [dict newStringValueForKey:@"mobile"] ? :@"";
                NSString *mobile = [dict speedy:StringFromSetClerkData(kStr_wayImageTitle)] ? :@"";
                //: NSString *account = [dict newStringValueForKey:@"account"] ? :@"";
                NSString *account = [dict speedy:StringFromSetClerkData(kStr_departmentName)] ? :@"";
                //: NSString *UserAccount = mobile.length > 0 ? mobile:account ;
                NSString *UserAccount = mobile.length > 0 ? mobile:account ;
                //: NSString *UserPassWord = [dict newStringValueForKey:@"password"] ? :@"";
                NSString *UserPassWord = [dict speedy:StringFromSetClerkData(kStr_regularTitle)] ? :@"";
                //: [notiDict setObject:UserAccount forKey:@"UserAccount"];
                [notiDict setObject:UserAccount forKey:StringFromSetClerkData(kStr_motivateValue)];
                //: [notiDict setObject:UserPassWord forKey:@"UserPassWord"];
                [notiDict setObject:UserPassWord forKey:StringFromSetClerkData(kStr_breatheValue)];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:@"RegistFinshNotification" object:notiDict];
                [[NSNotificationCenter defaultCenter] postNotificationName:StringFromSetClerkData(kStr_valeName) object:notiDict];
            }

        //: } failed:^(id responseObject, NSError *error) {
        } peg:^(id responseObject, NSError *error) {
            //: [SVProgressHUD showMessage:[FFFLanguageManager getTextWithKey:@"register_avtivity3_register_fail"]];
            [SVProgressHUD rangeMessage:[TeamManager sizeKey:StringFromSetClerkData(kStr_cageFieldValue)]];

        //: }];
        }];
    }
}

//: @end
@end

Byte * SetClerkDataToCache(Byte *data) {
    int againTing = data[0];
    int pursue = data[1];
    Byte foodName = data[2];
    int sumernationalFaint = data[3];
    if (!againTing) return data + sumernationalFaint;
    for (int i = sumernationalFaint; i < sumernationalFaint + pursue; i++) {
        int value = data[i] - foodName;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[sumernationalFaint + pursue] = 0;
    return data + sumernationalFaint;
}

NSString *StringFromSetClerkData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)SetClerkDataToCache(data)];
}
