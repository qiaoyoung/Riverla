
#import <Foundation/Foundation.h>
typedef struct {
    Byte tractionTa;
    Byte *fieldBelie;
    unsigned int userSpeak;
    bool fieldName;
	int album;
	int gasoline;
} StratfordDoingAvonData;

NSString *StringFromStratfordDoingAvonData(StratfordDoingAvonData *data);


//: /team/getTeamSetting
StratfordDoingAvonData kStr_fenceChildValue = (StratfordDoingAvonData){227, (Byte []){204, 151, 134, 130, 142, 204, 132, 134, 151, 183, 134, 130, 142, 176, 134, 151, 151, 138, 141, 132, 203}, 20, false, 177, 107};


//: code
StratfordDoingAvonData kStr_videoText = (StratfordDoingAvonData){76, (Byte []){47, 35, 40, 41, 70}, 4, false, 110, 14};


//: 邀请你加入高级群
StratfordDoingAvonData kStr_belieData = (StratfordDoingAvonData){255, (Byte []){22, 125, 127, 23, 80, 72, 27, 66, 95, 26, 117, 95, 26, 122, 90, 22, 84, 103, 24, 69, 88, 24, 65, 91, 142}, 24, false, 162, 123};


//: 邀请你加入讨论组
StratfordDoingAvonData kStr_spirePatronData = (StratfordDoingAvonData){133, (Byte []){108, 7, 5, 109, 42, 50, 97, 56, 37, 96, 15, 37, 96, 0, 32, 109, 43, 45, 109, 43, 63, 98, 62, 1, 76}, 24, false, 75, 219};


//: back_arrow_bl
StratfordDoingAvonData kStr_sireDireName = (StratfordDoingAvonData){173, (Byte []){207, 204, 206, 198, 242, 204, 223, 223, 194, 218, 242, 207, 193, 175}, 13, false, 38, 43};


//: postscript
StratfordDoingAvonData kStr_ohoValue = (StratfordDoingAvonData){210, (Byte []){162, 189, 161, 166, 161, 177, 160, 187, 162, 166, 128}, 10, false, 162, 196};


//: modify_activity_modify_success
StratfordDoingAvonData kStr_cheekLeaseText = (StratfordDoingAvonData){133, (Byte []){232, 234, 225, 236, 227, 252, 218, 228, 230, 241, 236, 243, 236, 241, 252, 218, 232, 234, 225, 236, 227, 252, 218, 246, 240, 230, 230, 224, 246, 246, 200}, 30, false, 109, 91};


//: 邀请你加入超大群
StratfordDoingAvonData kStr_patronData = (StratfordDoingAvonData){15, (Byte []){230, 141, 143, 231, 160, 184, 235, 178, 175, 234, 133, 175, 234, 138, 170, 231, 185, 138, 234, 171, 168, 232, 177, 171, 241}, 24, false, 75, 63};


//: group_info_activity_team_member
StratfordDoingAvonData kStr_relativelyFedName = (StratfordDoingAvonData){233, (Byte []){142, 155, 134, 156, 153, 182, 128, 135, 143, 134, 182, 136, 138, 157, 128, 159, 128, 157, 144, 182, 157, 140, 136, 132, 182, 132, 140, 132, 139, 140, 155, 82}, 31, false, 20, 22};


//: group_member_info_activity_team_creator
StratfordDoingAvonData kStr_surprisinglyValue = (StratfordDoingAvonData){38, (Byte []){65, 84, 73, 83, 86, 121, 75, 67, 75, 68, 67, 84, 121, 79, 72, 64, 73, 121, 71, 69, 82, 79, 80, 79, 82, 95, 121, 82, 67, 71, 75, 121, 69, 84, 67, 71, 82, 73, 84, 34}, 39, false, 12, 52};


//: attach
StratfordDoingAvonData kStr_rambleData = (StratfordDoingAvonData){54, (Byte []){87, 66, 66, 87, 85, 94, 232}, 6, false, 124, 157};


//: canAddFriend
StratfordDoingAvonData kStr_pauseName = (StratfordDoingAvonData){190, (Byte []){221, 223, 208, 255, 218, 218, 248, 204, 215, 219, 208, 218, 99}, 12, false, 118, 181};


//: #B391FF
StratfordDoingAvonData kStr_brainContent = (StratfordDoingAvonData){59, (Byte []){24, 121, 8, 2, 10, 125, 125, 50}, 7, false, 136, 205};


//: group_info_activity_op_failed
StratfordDoingAvonData kStr_selectionBishopValue = (StratfordDoingAvonData){137, (Byte []){238, 251, 230, 252, 249, 214, 224, 231, 239, 230, 214, 232, 234, 253, 224, 255, 224, 253, 240, 214, 230, 249, 214, 239, 232, 224, 229, 236, 237, 245}, 29, false, 77, 250};


//: 扩展消息
StratfordDoingAvonData kStr_candyWayData = (StratfordDoingAvonData){146, (Byte []){116, 27, 59, 119, 35, 7, 116, 36, 26, 116, 19, 61, 191}, 12, false, 207, 212};


//: data
StratfordDoingAvonData kStr_spireTitle = (StratfordDoingAvonData){51, (Byte []){87, 82, 71, 82, 19}, 4, false, 5, 93};


//: kNIMTeamListDataTeamMembersChanged
StratfordDoingAvonData kStr_operativeContent = (StratfordDoingAvonData){148, (Byte []){255, 218, 221, 217, 192, 241, 245, 249, 216, 253, 231, 224, 208, 245, 224, 245, 192, 241, 245, 249, 217, 241, 249, 246, 241, 230, 231, 215, 252, 245, 250, 243, 241, 240, 117}, 34, false, 185, 244};


//: ic_group_addmember
StratfordDoingAvonData kStr_approvalTitle = (StratfordDoingAvonData){111, (Byte []){6, 12, 48, 8, 29, 0, 26, 31, 48, 14, 11, 11, 2, 10, 2, 13, 10, 29, 134}, 18, false, 57, 51};

// __DEBUG__
// __CLOSE_PRINT__
//
//  NTESTeamMemberListViewController.m
//  NIM
//
//  Created by chris on 15/3/26.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "CCCTeamMemberListViewController.h"
#import "ChangeMessageViewController.h"
//: #import "FFFCardHeaderCell.h"
#import "RecentBarViewCell.h"
//: #import "FFFTeamCardMemberItem.h"
#import "PunchCardShow.h"
//: #import "FFFTeamMemberCardViewController.h"
#import "LittleLeagueTeamViewController.h"
//: #import "ViewKitDependency.h"
#import "ViewKitDependency.h"
//: #import "FFFKitProgressHUD.h"
#import "DiscoverEffectView.h"
//: #import "ViewGlobalMacro.h"
#import "ViewGlobalMacro.h"
//: #import "NSString+MyUserKit.h"
#import "NSString+Notice.h"
//: #import "FFFTeamListDataManager.h"
#import "WishListManager.h"
//: #import "NTESPersonalCardViewController.h"
#import "IndependentViewController.h"
//: #import "NTESContactDataCell.h"
#import "PinCellView.h"
//: #import "FFFGroupMemberTableViewCell.h"
#import "EvaluateViewCell.h"
//: #import "FFFContactSelectViewController.h"
#import "TeamPictureViewController.h"

//: typedef void(^NIMTeamMemberListFetchDataBlock)(BOOL isCompletion);
typedef void(^NIMTeamMemberListFetchDataBlock)(BOOL isCompletion);

//: @interface CCCTeamMemberListViewController ()<UITableViewDataSource,UITableViewDelegate,NIMContactSelectDelegate,NIMMemberCardCellDelegate>
@interface ChangeMessageViewController ()<UITableViewDataSource,UITableViewDelegate,MessageAction,ScaleDelegate>

//@property (nonatomic, strong) UICollectionView *collectionView;
//@property (nonatomic, weak) id <LabelSource> dataSource;
//: @property (nonatomic, assign) NSInteger pageIndex;
@property (nonatomic, assign) NSInteger pageIndex;
//: @property (nonatomic, assign) NSInteger totalPageCount;
@property (nonatomic, assign) NSInteger totalPageCount;
//: @property (nonatomic, strong) UIButton *nextBtn;
@property (nonatomic, strong) UIButton *nextBtn;
//: @property (nonatomic, strong) UIButton *lastBtn;
@property (nonatomic, strong) UIButton *lastBtn;
//: @property (nonatomic, strong) NSDictionary *teamSettingConfig;
@property (nonatomic, strong) NSDictionary *teamSettingConfig;

//: @property (nonatomic ,strong) UITableView *tableView;
@property (nonatomic ,strong) UITableView *tableView;

//: @property (nonatomic ,copy) NSArray *muteArray;
@property (nonatomic ,copy) NSArray *muteArray;

//: @end
@end

//: @implementation CCCTeamMemberListViewController
@implementation ChangeMessageViewController

//: - (void)dealloc {
- (void)dealloc {
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}
//: - (instancetype)initWithDataSource:(FFFTeamListDataManager *)dataSource {
- (instancetype)initWithScan:(WishListManager *)dataSource {
    //: self = [super initWithNibName:nil bundle:nil];
    self = [super initWithNibName:nil bundle:nil];
    //: if (self) {
    if (self) {
        //: _teamListManager = dataSource;
        _teamListManager = dataSource;
        //: NSString *kNIMTeamListDataTeamMembersChanged = @"kNIMTeamListDataTeamMembersChanged";
        NSString *kNIMTeamListDataTeamMembersChanged = StringFromStratfordDoingAvonData(&kStr_operativeContent);
        //: [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(teamMemberUpdate:) name:kNIMTeamListDataTeamMembersChanged object:nil];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(totalsing:) name:kNIMTeamListDataTeamMembersChanged object:nil];
    }
    //: return self;
    return self;
}
//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: [self.navigationController.navigationBar setHidden:YES];
    [self.navigationController.navigationBar setHidden:YES];
}
//: -(void)viewWillDisappear:(BOOL)animated{
-(void)viewWillDisappear:(BOOL)animated{
    //: [super viewWillDisappear:animated];
    [super viewWillDisappear:animated];
    //: [self.navigationController.navigationBar setHidden:NO];
    [self.navigationController.navigationBar setHidden:NO];
}
//: - (void)backAction{
- (void)messageView{
    //: [self.navigationController popViewControllerAnimated:NO];
    [self.navigationController popViewControllerAnimated:NO];
}

//: - (void)rightNavButtonClick{
- (void)modeClick{
        //: NSMutableArray *users = [self.teamListManager memberIds];
        NSMutableArray *users = [self.teamListManager memberIds];
        //: NSString *currentUserID = [self.teamListManager myAccount];
        NSString *currentUserID = [self.teamListManager myAccount];
        //: [users addObject:currentUserID];
        [users addObject:currentUserID];

        //: NIMContactFriendSelectConfig *config = [[NIMContactFriendSelectConfig alloc] init];
        CloseBack *config = [[CloseBack alloc] init];
        //: config.filterIds = users;
        config.filterIds = users;
        //: config.needMutiSelected = YES;
        config.needMutiSelected = YES;
        //: FFFContactSelectViewController *vc = [[FFFContactSelectViewController alloc] initWithConfig:config];
        TeamPictureViewController *vc = [[TeamPictureViewController alloc] initWithIconTitle:config];
        //: vc.delegate = self;
        vc.delegate = self;
        //: [vc show];
        [vc application];
}


//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.view.backgroundColor = [UIColor whiteColor];
    self.view.backgroundColor = [UIColor whiteColor];

    //: [self setupUI];
    [self event];
    //: [self loadMuteListData];
    [self remove];

    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"id"] = self.teamListManager.team.teamId?:@"";
    dict[@"id"] = self.teamListManager.team.teamId?:@"";
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/team/getTeamSetting"] params:dict isShow:NO success:^(id responseObject) {
    [InfoManager enable:[NSString stringWithFormat:StringFromStratfordDoingAvonData(&kStr_fenceChildValue)] sub:dict record:NO tapGetFailed:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict speedy:StringFromStratfordDoingAvonData(&kStr_videoText)];
        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {
            //: NSDictionary *data = [resultDict valueObjectForKey:@"data"];
            NSDictionary *data = [resultDict straddle:StringFromStratfordDoingAvonData(&kStr_spireTitle)];
            //: _teamSettingConfig = data;
            _teamSettingConfig = data;
        }
    //: } failed:^(id responseObject, NSError *error) {
    } failedSmartOccurrentSelectShowGet:^(id responseObject, NSError *error) {
    //: }];
    }];
}

//: - (void)viewDidAppear:(BOOL)animated {
- (void)viewDidAppear:(BOOL)animated {
    //: [super viewDidAppear:animated];
    [super viewDidAppear:animated];

//    [_collectionView reloadData];
    //: [self.tableView reloadData];
    [self.tableView reloadData];
}

//: - (void)viewDidLayoutSubviews {
- (void)viewDidLayoutSubviews {
    //: [super viewDidLayoutSubviews];
    [super viewDidLayoutSubviews];
}

//: - (void)setupUI {
- (void)event {

    //: UIView *bgView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice vg_statusBarHeight]))];
    UIView *bgView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice table]))];
    //: [self.view addSubview:bgView];
    [self.view addSubview:bgView];

    //: UIButton *backButton = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *backButton = [UIButton buttonWithType:UIButtonTypeCustom];
    //: backButton.frame = CGRectMake(5, [UIDevice vg_statusBarHeight]+4, 40, 40);
    backButton.frame = CGRectMake(5, [UIDevice table]+4, 40, 40);
    //: [backButton setImage:[UIImage imageNamed:@"back_arrow_bl"] forState:(UIControlStateNormal)];
    [backButton setImage:[UIImage imageNamed:StringFromStratfordDoingAvonData(&kStr_sireDireName)] forState:(UIControlStateNormal)];
    //: [backButton addTarget:self action:@selector(backAction) forControlEvents:UIControlEventTouchUpInside];
    [backButton addTarget:self action:@selector(messageView) forControlEvents:UIControlEventTouchUpInside];
    //: [bgView addSubview:backButton];
    [bgView addSubview:backButton];

    //: UILabel *labtitle = [[UILabel alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-200)/2, [UIDevice vg_statusBarHeight]+4, 200, 40)];
    UILabel *labtitle = [[UILabel alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-200)/2, [UIDevice table]+4, 200, 40)];
    //: labtitle.font = [UIFont systemFontOfSize:16.f];
    labtitle.font = [UIFont systemFontOfSize:16.f];
    //: labtitle.textColor = [UIColor blackColor];
    labtitle.textColor = [UIColor blackColor];
    //: labtitle.textAlignment = NSTextAlignmentCenter;
    labtitle.textAlignment = NSTextAlignmentCenter;
    //: labtitle.text = [FFFLanguageManager getTextWithKey:@"group_info_activity_team_member"];
    labtitle.text = [TeamManager sizeKey:StringFromStratfordDoingAvonData(&kStr_relativelyFedName)];
    //: [bgView addSubview:labtitle];
    [bgView addSubview:labtitle];

    //: UIButton *submitButton = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *submitButton = [UIButton buttonWithType:UIButtonTypeCustom];
    //: submitButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-15-40, [UIDevice vg_statusBarHeight]+8, 32, 32);
    submitButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-15-40, [UIDevice table]+8, 32, 32);
    //: submitButton.backgroundColor = [UIColor colorWithHexString:@"#B391FF"];
    submitButton.backgroundColor = [UIColor isView:StringFromStratfordDoingAvonData(&kStr_brainContent)];
    //: submitButton.layer.cornerRadius = 16;
    submitButton.layer.cornerRadius = 16;
    //: [submitButton setImage:[UIImage imageNamed:@"ic_group_addmember"] forState:(UIControlStateNormal)];
    [submitButton setImage:[UIImage imageNamed:StringFromStratfordDoingAvonData(&kStr_approvalTitle)] forState:(UIControlStateNormal)];
    //: [submitButton addTarget:self action:@selector(rightNavButtonClick) forControlEvents:UIControlEventTouchUpInside];
    [submitButton addTarget:self action:@selector(modeClick) forControlEvents:UIControlEventTouchUpInside];
    //: [bgView addSubview:submitButton];
    [bgView addSubview:submitButton];

    //: self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15, (44.0f + [UIDevice vg_statusBarHeight])+15, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice vg_statusBarHeight])) style:UITableViewStyleGrouped];
    self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15, (44.0f + [UIDevice table])+15, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice table])) style:UITableViewStyleGrouped];
    //: [self.view addSubview:self.tableView];
    [self.view addSubview:self.tableView];
    //: self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    //: self.tableView.backgroundColor = [UIColor clearColor];
    self.tableView.backgroundColor = [UIColor clearColor];
    //: _tableView.estimatedSectionHeaderHeight=15.1;
    _tableView.estimatedSectionHeaderHeight=15.1;
    //: _tableView.estimatedSectionFooterHeight=.1;
    _tableView.estimatedSectionFooterHeight=.1;
    //: self.tableView.estimatedRowHeight = UITableViewAutomaticDimension;
    self.tableView.estimatedRowHeight = UITableViewAutomaticDimension;
    //: self.tableView.delegate = self;
    self.tableView.delegate = self;
    //: self.tableView.dataSource = self;
    self.tableView.dataSource = self;

//    [self.view addSubview:self.collectionView];

}

//: - (void)loadMuteListData {
- (void)remove {

    //: NSString *teamId = self.teamListManager.team.teamId;
    NSString *teamId = self.teamListManager.team.teamId;
    //: if (self.teamListManager.team.type == NIMTeamTypeSuper) {
    if (self.teamListManager.team.type == NIMTeamTypeSuper) {
        //: [[NIMSDK sharedSDK].superTeamManager fetchTeamMutedMembers:teamId completion:^(NSError * _Nullable error, NSArray<NIMTeamMember *> * _Nullable members) {
        [[NIMSDK sharedSDK].superTeamManager fetchTeamMutedMembers:teamId completion:^(NSError * _Nullable error, NSArray<NIMTeamMember *> * _Nullable members) {
            //: self.muteArray = members;
            self.muteArray = members;
            //: [self.tableView reloadData];
            [self.tableView reloadData];
        //: }];
        }];
    //: } else {
    } else {
        //: [[NIMSDK sharedSDK].teamManager fetchTeamMutedMembers:teamId completion:^(NSError * _Nullable error, NSArray<NIMTeamMember *> * _Nullable members) {
        [[NIMSDK sharedSDK].teamManager fetchTeamMutedMembers:teamId completion:^(NSError * _Nullable error, NSArray<NIMTeamMember *> * _Nullable members) {
            //: self.muteArray = members;
            self.muteArray = members;
            //: [self.tableView reloadData];
            [self.tableView reloadData];
        //: }];
        }];
    }
}

//更新群成员禁言
//: - (void)cellShouldBeMute:(NSString *)uid mute:(BOOL)mute
- (void)textDate:(NSString *)uid view:(BOOL)mute
{
//    [_dataSource updateUserMuteState:uid mute:mute completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
//        [self.tableView reloadData];
//    }];

    //: BOOL ismute = YES;
    BOOL ismute = YES;
    //: for (NIMTeamMember *member in self.muteArray) {
    for (NIMTeamMember *member in self.muteArray) {
        //: if([member.userId isEqualToString:uid]){
        if([member.userId isEqualToString:uid]){
            //: ismute = NO;
            ismute = NO;
        //: }else{
        }else{
            //: ismute = YES;
            ismute = YES;
        }
    }

    //: NSString *teamId = self.teamListManager.team.teamId;
    NSString *teamId = self.teamListManager.team.teamId;
    //: if (self.teamListManager.team.type == NIMTeamTypeSuper) {
    if (self.teamListManager.team.type == NIMTeamTypeSuper) {
        //: NSMutableArray *users = [NSMutableArray array];
        NSMutableArray *users = [NSMutableArray array];
        //: if (uid) {
        if (uid) {
            //: [users addObject:uid];
            [users addObject:uid];
        }
        //: [[NIMSDK sharedSDK].superTeamManager updateMuteState:ismute
        [[NIMSDK sharedSDK].superTeamManager updateMuteState:ismute
                                                      //: userIds:users
                                                      userIds:users
                                                       //: inTeam:teamId
                                                       inTeam:teamId
                                                  //: completion:^(NSError *error) {
                                                  completion:^(NSError *error) {
            //: [self loadMuteListData];
            [self remove];

        //: }];
        }];
    //: } else {
    } else {
        //: [[NIMSDK sharedSDK].teamManager updateMuteState:ismute
        [[NIMSDK sharedSDK].teamManager updateMuteState:ismute
                                                 //: userId:uid
                                                 userId:uid
                                                 //: inTeam:teamId
                                                 inTeam:teamId
                                             //: completion:^(NSError *error) {
                                             completion:^(NSError *error) {
            //: NSString *msg = nil;
            NSString *msg = nil;
            //: if (!error) {
            if (!error) {
                //: msg = [FFFLanguageManager getTextWithKey:@"modify_activity_modify_success"];
                msg = [TeamManager sizeKey:StringFromStratfordDoingAvonData(&kStr_cheekLeaseText)];
            //: }else{
            }else{
                //: msg = [FFFLanguageManager getTextWithKey:@"group_info_activity_op_failed"];
                msg = [TeamManager sizeKey:StringFromStratfordDoingAvonData(&kStr_selectionBishopValue)];
            }
            //: [self.view makeToast:msg duration:2.0 position:CSToastPositionCenter];
            [self.view makeToast:msg duration:2.0 position:CSToastPositionCenter];

//            [self.tableView reloadData];
            //: [self loadMuteListData];
            [self remove];
         //: }];
         }];
    }
}
//: - (void)cellShouldBeRemoved:(NSString *)uid
- (void)need:(NSString *)uid
{
    //: [FFFKitProgressHUD show];
    [DiscoverEffectView cellToBubble];
    //: [self.teamListManager kickUsers:@[uid] completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
    [self.teamListManager modal:@[uid] searched:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
        //: [FFFKitProgressHUD dismiss];
        [DiscoverEffectView view];
        //: [self.view makeToast:msg duration:2.0 position:CSToastPositionCenter];
        [self.view makeToast:msg duration:2.0 position:CSToastPositionCenter];
        //: [self.tableView reloadData];
        [self.tableView reloadData];
    //: }];
    }];
}

//: #pragma mark - UITableViewDelegate
#pragma mark - UITableViewDelegate
//: - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    //: return _teamListManager.memberIds.count;
    return _teamListManager.memberIds.count;
}

//: - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {

    //: return 1;
    return 1;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {

    //: return 72;
    return 72;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
    //: return 10;
    return 10;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
    //: return [[UIView alloc] init];
    return [[UIView alloc] init];
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    //: return 2.2250738585072014e-308;
    return 2.2250738585072014e-308;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    //: return [[UIView alloc] init];
    return [[UIView alloc] init];
}

//: - (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
- (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    //: FFFGroupMemberTableViewCell *cell = [FFFGroupMemberTableViewCell cellWithTableView:tableView];
    EvaluateViewCell *cell = [EvaluateViewCell randomForView:tableView];
    //: cell.delegate = self;
    cell.delegate = self;

    //: NSString *uId = _teamListManager.memberIds[indexPath.section];
    NSString *uId = _teamListManager.memberIds[indexPath.section];
    //: FFFKitInfo *usrInfo = [[MyUserKit sharedKit] infoByUser:uId option:nil];
    OriginBy *usrInfo = [[Notice fullKit] value:uId manager:nil];

    //: [cell reloadWithUserId:uId];
    [cell title:uId];
    //: [cell.roleImageView sd_setImageWithURL:[NSURL URLWithString:usrInfo.avatarUrlString] placeholderImage:usrInfo.avatarImage];
    [cell.roleImageView sd_setImageWithURL:[NSURL URLWithString:usrInfo.avatarUrlString] placeholderImage:usrInfo.avatarImage];
    //: cell.titleLabel.text = usrInfo.showName;
    cell.titleLabel.text = usrInfo.showName;
    //: cell.subtitleLabel.text = [FFFLanguageManager getTextWithKey:@"group_member_info_activity_team_creator"];
    cell.subtitleLabel.text = [TeamManager sizeKey:StringFromStratfordDoingAvonData(&kStr_surprisinglyValue)];

    //: BOOL isown = [uId isEqualToString:_teamListManager.team.owner];
    BOOL isown = [uId isEqualToString:_teamListManager.team.owner];
    //: if(isown){
    if(isown){
        //: cell.subtitleLabel.hidden = NO;
        cell.subtitleLabel.hidden = NO;
    //: }else{
    }else{
        //: cell.subtitleLabel.hidden = YES;
        cell.subtitleLabel.hidden = YES;
        //: cell.muteBtn.hidden = YES;
        cell.muteBtn.hidden = YES;
        //: cell.removeBtn.hidden = YES;
        cell.removeBtn.hidden = YES;
    }

    //: if([_teamListManager.team.owner isEqualToString:[NIMSDK sharedSDK].loginManager.currentAccount]){
    if([_teamListManager.team.owner isEqualToString:[NIMSDK sharedSDK].loginManager.currentAccount]){
        //: cell.muteBtn.hidden = NO;
        cell.muteBtn.hidden = NO;
        //: cell.removeBtn.hidden = NO;
        cell.removeBtn.hidden = NO;
        //: cell.muteBtn.selected = NO;
        cell.muteBtn.selected = NO;
        //: for (NIMTeamMember *member in self.muteArray) {
        for (NIMTeamMember *member in self.muteArray) {
            //: if([member.userId isEqualToString:uId] && member.isMuted){
            if([member.userId isEqualToString:uId] && member.isMuted){
                //: cell.muteBtn.selected = YES;
                cell.muteBtn.selected = YES;
            }
        }
    //: }else{
    }else{
        //: cell.muteBtn.hidden = YES;
        cell.muteBtn.hidden = YES;
        //: cell.removeBtn.hidden = YES;
        cell.removeBtn.hidden = YES;
    }

    //: if(isown){
    if(isown){
        //: cell.muteBtn.hidden = YES;
        cell.muteBtn.hidden = YES;
        //: cell.removeBtn.hidden = YES;
        cell.removeBtn.hidden = YES;
    }

    //: return cell;
    return cell;
}

//: - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    //: [tableView deselectRowAtIndexPath:indexPath animated:YES];
    [tableView deselectRowAtIndexPath:indexPath animated:YES];

    //: NSString *canMemberInfo = [_teamSettingConfig newStringValueForKey:@"canAddFriend"];
    NSString *canMemberInfo = [_teamSettingConfig speedy:StringFromStratfordDoingAvonData(&kStr_pauseName)];
    //: if (canMemberInfo.integerValue > 0) {
    if (canMemberInfo.integerValue > 0) {
        //: NSString *uId = _teamListManager.memberIds[indexPath.section];
        NSString *uId = _teamListManager.memberIds[indexPath.section];
//    LittleLeagueTeamViewController *vc = [[LittleLeagueTeamViewController alloc] init];
//    vc.teamListManager = self.teamListManager;
//    vc.memberId = uId;
//        [self.navigationController pushViewController:vc animated:YES];

        //: NTESPersonalCardViewController *vc = [[NTESPersonalCardViewController alloc] initWithUserId:uId];
        IndependentViewController *vc = [[IndependentViewController alloc] initWithDoingTo:uId];
        //: [self.navigationController pushViewController:vc animated:YES];
        [self.navigationController pushViewController:vc animated:YES];
    }

}



//: #pragma mark - ContactSelectDelegate
#pragma mark - ContactSelectDelegate
//: - (void)didFinishedSelect:(NSArray *)selectedContacts{
- (void)ting:(NSArray *)selectedContacts{
    //: [self didInviteUsers:selectedContacts completion:nil];
    [self image:selectedContacts eraseTitle:nil];
}

//: - (void)didInviteUsers:(NSArray<NSString *> *)userIds
- (void)image:(NSArray<NSString *> *)userIds
            //: completion:(dispatch_block_t)completion {
            eraseTitle:(dispatch_block_t)completion {

    //: if (userIds.count == 0) {
    if (userIds.count == 0) {
        //: return;
        return;
    }

    //: NSMutableDictionary *info = [NSMutableDictionary dictionary];
    NSMutableDictionary *info = [NSMutableDictionary dictionary];
    //: info[@"attach"] = @"扩展消息";
    info[StringFromStratfordDoingAvonData(&kStr_rambleData)] = StringFromStratfordDoingAvonData(&kStr_candyWayData);
    //: switch (self.teamListManager.team.type) {
    switch (self.teamListManager.team.type) {
        //: case NIMTeamTypeNormal:
        case NIMTeamTypeNormal:
            //: info[@"postscript"] = @"邀请你加入讨论组".nim_localized;
            info[StringFromStratfordDoingAvonData(&kStr_ohoValue)] = StringFromStratfordDoingAvonData(&kStr_spirePatronData).positionMenu;
            //: break;
            break;
        //: case NIMTeamTypeAdvanced:
        case NIMTeamTypeAdvanced:
            //: info[@"postscript"] = @"邀请你加入高级群".nim_localized;
            info[StringFromStratfordDoingAvonData(&kStr_ohoValue)] = StringFromStratfordDoingAvonData(&kStr_belieData).positionMenu;
            //: break;
            break;
        //: case NIMTeamTypeSuper:
        case NIMTeamTypeSuper:
            //: info[@"postscript"] = @"邀请你加入超大群".nim_localized;
            info[StringFromStratfordDoingAvonData(&kStr_ohoValue)] = StringFromStratfordDoingAvonData(&kStr_patronData).positionMenu;
            //: break;
            break;
        //: default:
        default:
            //: break;
            break;
    }
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
//    [DiscoverEffectView show];
    //: [self.teamListManager addUsers:userIds info:info completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
    [self.teamListManager content:userIds sizeForCompletion:info close:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
//        [DiscoverEffectView dismiss];

        //: if (completion) {
        if (completion) {
            //: completion();
            completion();
        }
    //: }];
    }];
}

//: #pragma mark - Actions
#pragma mark - Actions
//: - (void)teamMemberUpdate:(NSNotification *)note {
- (void)totalsing:(NSNotification *)note {

    //: [self.tableView reloadData];
    [self.tableView reloadData];
}

//: @end
@end

Byte *StratfordDoingAvonDataToByte(StratfordDoingAvonData *data) {
    if (data->fieldName) return data->fieldBelie;
    for (int i = 0; i < data->userSpeak; i++) {
        data->fieldBelie[i] ^= data->tractionTa;
    }
    data->fieldBelie[data->userSpeak] = 0;
    data->fieldName = true;
	if (data->userSpeak >= 2) {
		data->album = data->fieldBelie[0];
		data->gasoline = data->fieldBelie[1];
	}
    return data->fieldBelie;
}

NSString *StringFromStratfordDoingAvonData(StratfordDoingAvonData *data) {
    return [NSString stringWithUTF8String:(char *)StratfordDoingAvonDataToByte(data)];
}
