
#import <Foundation/Foundation.h>

NSString *StringFromSkinColorData(Byte *data);        


//: fuid
Byte kStr_spaceName[] = {76, 4, 92, 8, 54, 253, 47, 210, 10, 25, 13, 8, 18};


//: hot_guys
Byte kStr_screenName[] = {19, 8, 74, 7, 148, 75, 63, 30, 37, 42, 21, 29, 43, 47, 41, 149};


//: #EEEEEE
Byte kStr_keyValue[] = {81, 7, 60, 6, 177, 49, 231, 9, 9, 9, 9, 9, 9, 58};


//: #2C3042
Byte kStr_withMyTitle[] = {12, 7, 82, 5, 234, 209, 224, 241, 225, 222, 226, 224, 240};


//: /user/recommend
Byte kStr_greenValue[] = {97, 15, 76, 12, 55, 223, 107, 31, 141, 67, 128, 139, 227, 41, 39, 25, 38, 227, 38, 25, 23, 35, 33, 33, 25, 34, 24, 125};


//: please_contact_your_administrator
Byte kStr_optionData[] = {60, 33, 17, 12, 45, 241, 239, 1, 39, 169, 126, 172, 95, 91, 84, 80, 98, 84, 78, 82, 94, 93, 99, 80, 82, 99, 78, 104, 94, 100, 97, 78, 80, 83, 92, 88, 93, 88, 98, 99, 97, 80, 99, 94, 97, 228};


//: #B391FF
Byte kStr_pressText[] = {74, 7, 55, 11, 187, 94, 35, 3, 69, 93, 71, 236, 11, 252, 2, 250, 15, 15, 193};


//: my_qr
Byte kStr_infoAddData[] = {53, 5, 17, 14, 96, 117, 85, 98, 13, 112, 96, 253, 210, 150, 92, 104, 78, 96, 97, 172};


//: request_successful
Byte kStr_videoTitle[] = {67, 18, 1, 9, 235, 229, 92, 242, 47, 113, 100, 112, 116, 100, 114, 115, 94, 114, 116, 98, 98, 100, 114, 114, 101, 116, 107, 2};


//: group_info_activity_number_no
Byte kStr_fileShouldText[] = {11, 29, 41, 13, 195, 186, 178, 136, 178, 55, 52, 55, 82, 62, 73, 70, 76, 71, 54, 64, 69, 61, 70, 54, 56, 58, 75, 64, 77, 64, 75, 80, 54, 69, 76, 68, 57, 60, 73, 54, 69, 70, 220};


//: add_friend_add_fail
Byte kStr_successChildName[] = {18, 19, 49, 7, 167, 157, 222, 48, 51, 51, 46, 53, 65, 56, 52, 61, 51, 46, 48, 51, 51, 46, 53, 48, 56, 59, 178};


//: add_friend_activity_input_account
Byte kStr_onValue[] = {17, 33, 79, 7, 33, 211, 113, 18, 21, 21, 16, 23, 35, 26, 22, 31, 21, 16, 18, 20, 37, 26, 39, 26, 37, 42, 16, 26, 31, 33, 38, 37, 16, 18, 20, 20, 32, 38, 31, 37, 63};


//: contact_tag_fragment_add_success
Byte kStr_withShouldName[] = {89, 32, 14, 10, 171, 197, 185, 56, 202, 187, 85, 97, 96, 102, 83, 85, 102, 81, 102, 83, 89, 81, 88, 100, 83, 89, 95, 87, 96, 102, 81, 83, 86, 86, 81, 101, 103, 85, 85, 87, 101, 101, 233};


//: msg
Byte kStr_infoName[] = {8, 3, 96, 11, 14, 76, 186, 31, 77, 1, 197, 13, 19, 7, 237};


//: /user/search
Byte kStr_fileValue[] = {51, 12, 92, 9, 65, 118, 219, 42, 221, 211, 25, 23, 9, 22, 211, 23, 9, 5, 22, 7, 12, 221};


//: /user/checkAddFriendEx
Byte kStr_kitData[] = {18, 22, 10, 11, 30, 91, 15, 82, 209, 38, 253, 37, 107, 105, 91, 104, 37, 89, 94, 91, 89, 97, 55, 90, 90, 60, 104, 95, 91, 100, 90, 59, 110, 237};


//: add_friend_request_fail
Byte kStr_myValue[] = {31, 23, 13, 10, 201, 13, 216, 209, 80, 215, 84, 87, 87, 82, 89, 101, 92, 88, 97, 87, 82, 101, 88, 100, 104, 88, 102, 103, 82, 89, 84, 92, 95, 244};


//: uid
Byte kStr_willToName[] = {85, 3, 14, 14, 108, 226, 14, 23, 1, 243, 221, 152, 28, 137, 103, 91, 86, 157};


//: icon_search_w
Byte kStr_itemMakeData[] = {47, 13, 24, 8, 131, 44, 187, 170, 81, 75, 87, 86, 71, 91, 77, 73, 90, 75, 80, 71, 95, 132};


//: #333333
Byte kStr_barData[] = {9, 7, 48, 10, 70, 212, 190, 82, 67, 148, 243, 3, 3, 3, 3, 3, 3, 207};


//: account
Byte kStr_cellNameTitle[] = {61, 7, 52, 13, 106, 254, 180, 212, 55, 178, 136, 232, 7, 45, 47, 47, 59, 65, 58, 64, 158};


//: code
Byte kStr_spaceTingData[] = {19, 4, 57, 13, 186, 137, 86, 134, 55, 196, 56, 109, 28, 42, 54, 43, 44, 225};


//: ic_scan
Byte kStr_myTitle[] = {36, 7, 57, 5, 100, 48, 42, 38, 58, 42, 40, 53, 131};


//: back_arrow_bl
Byte kStr_dateValue[] = {20, 13, 98, 9, 212, 20, 83, 225, 79, 0, 255, 1, 9, 253, 255, 16, 16, 13, 21, 253, 0, 10, 91};


//: add_friend_activity_add_friend
Byte kStr_makeText[] = {94, 30, 31, 5, 213, 66, 69, 69, 64, 71, 83, 74, 70, 79, 69, 64, 66, 68, 85, 74, 87, 74, 85, 90, 64, 66, 69, 69, 64, 71, 83, 74, 70, 79, 69, 40};


//: #FAF8FD
Byte kStr_successValue[] = {59, 7, 44, 6, 106, 36, 247, 26, 21, 26, 12, 26, 24, 36};


//: data
Byte kStr_toName[] = {74, 4, 53, 4, 47, 44, 63, 44, 90};


//: tuid
Byte kStr_withName[] = {89, 4, 76, 13, 235, 12, 162, 23, 236, 247, 95, 31, 204, 40, 41, 29, 24, 145};

// __DEBUG__
// __CLOSE_PRINT__
//
//  CellViewController.m
//  NIM
//
//  Created by chris on 15/8/18.
//  Copyright (c) 2015å¹´ Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "NTESContactAddFriendViewController.h"
#import "CellViewController.h"
//: #import "NTESContactAddFriendCell.h"
#import "ChangeByView.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "SVProgressHUD.h"
#import "SVProgressHUD.h"
//: #import "NTESPersonalCardViewController.h"
#import "IndependentViewController.h"
//: #import "NTESUserQRCodeViewController.h"
#import "ChanceViewController.h"
//: #import "SNDevice.h"
#import "ImageMaxMargin.h"
//: #import "CCCLoginManager.h"
#import "LoginCustomManager.h"
//: #import "UIAlertView+NTESBlock.h"
#import "UIAlertView+RefreshFaceBlock.h"
//: #import "UIView+NTES.h"
#import "UIView+InfoByMargin.h"
//: #import "LCQRCodeUtil.h"
#import "SawdustSaloonUtil.h"
//: #import <Photos/Photos.h>
#import <Photos/Photos.h>
//: #import "CCCContactScanViewController.h"
#import "MarginViewController.h"
//: #import "ZMONMyQRcodeView.h"
#import "ImmobiliseView.h"
//: #import "ZMONFriendCardViewController.h"
#import "BarViewController.h"
//: #import "RecommendfriendTableViewCell.h"
#import "ByViewCell.h"

//: @interface NTESContactAddFriendViewController ()<UITextFieldDelegate,UITableViewDelegate,UITableViewDataSource,RecommendfriendCellDelegate>
@interface CellViewController ()<UITextFieldDelegate,UITableViewDelegate,UITableViewDataSource,RecommendfriendFlushCompartmentIndependent>

//: @property (nonatomic ,strong) UITextField *textField;
@property (nonatomic ,strong) UITextField *textField;
//: @property (nonatomic ,strong) UILabel *accountLabel;
@property (nonatomic ,strong) UILabel *accountLabel;
//: @property (nonatomic ,strong) UIImageView *qrImgview;
@property (nonatomic ,strong) UIImageView *qrImgview;
//: @property (nonatomic ,strong) UILabel *tipsLabel;
@property (nonatomic ,strong) UILabel *tipsLabel;

//: @property (nonatomic ,strong) ZMONMyQRcodeView *MyQRcodeView;
@property (nonatomic ,strong) ImmobiliseView *MyQRcodeView;

//: @property (nonatomic,strong) UITableView *tableView;
@property (nonatomic,strong) UITableView *tableView;
//: @property (nonatomic,copy) NSArray *friendList;
@property (nonatomic,copy) NSArray *friendList;

//: @end
@end

//: @implementation NTESContactAddFriendViewController
@implementation CellViewController

//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: self.navigationController.navigationBarHidden = YES;
    self.navigationController.navigationBarHidden = YES;
}

//: - (void)viewWillDisappear:(BOOL)animated{
- (void)viewWillDisappear:(BOOL)animated{
    //: [super viewWillDisappear:animated];
    [super viewWillDisappear:animated];
    //: self.navigationController.navigationBarHidden = NO;
    self.navigationController.navigationBarHidden = NO;
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.view.backgroundColor = [UIColor whiteColor];
    self.view.backgroundColor = [UIColor whiteColor];


    //: UIView *navview = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice vg_statusBarHeight]))];
    UIView *navview = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice table]))];
    //: [self.view addSubview:navview];
    [self.view addSubview:navview];

    //: UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: backBtn.frame = CGRectMake(15, [UIDevice vg_statusBarHeight], 40, 40);
    backBtn.frame = CGRectMake(15, [UIDevice table], 40, 40);
    //: [backBtn addTarget:self action:@selector(gotoBack:) forControlEvents:UIControlEventTouchUpInside];
    [backBtn addTarget:self action:@selector(searchPressed:) forControlEvents:UIControlEventTouchUpInside];
    //: [backBtn setImage:[UIImage imageNamed:@"back_arrow_bl"] forState:UIControlStateNormal];
    [backBtn setImage:[UIImage imageNamed:StringFromSkinColorData(kStr_dateValue)] forState:UIControlStateNormal];
    //: [navview addSubview:backBtn];
    [navview addSubview:backBtn];

    //: UILabel *labNavtitle = [[UILabel alloc]initWithFrame:CGRectMake(0, [UIDevice vg_statusBarHeight], [[UIScreen mainScreen] bounds].size.width, 44)];
    UILabel *labNavtitle = [[UILabel alloc]initWithFrame:CGRectMake(0, [UIDevice table], [[UIScreen mainScreen] bounds].size.width, 44)];
    //: labNavtitle.textColor = [UIColor blackColor];
    labNavtitle.textColor = [UIColor blackColor];
    //: labNavtitle.font = [UIFont boldSystemFontOfSize:16];
    labNavtitle.font = [UIFont boldSystemFontOfSize:16];
    //: labNavtitle.text = [FFFLanguageManager getTextWithKey:@"add_friend_activity_add_friend"];
    labNavtitle.text = [TeamManager sizeKey:StringFromSkinColorData(kStr_makeText)];
    //: labNavtitle.textAlignment = NSTextAlignmentCenter;
    labNavtitle.textAlignment = NSTextAlignmentCenter;
    //: [navview addSubview:labNavtitle];
    [navview addSubview:labNavtitle];

    //: UIButton *myQrBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *myQrBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: myQrBtn.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-40-15, [UIDevice vg_statusBarHeight], 40, 40);
    myQrBtn.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-40-15, [UIDevice table], 40, 40);
    //: [myQrBtn addTarget:self action:@selector(QRCodeButtnClick) forControlEvents:UIControlEventTouchUpInside];
    [myQrBtn addTarget:self action:@selector(shouldString) forControlEvents:UIControlEventTouchUpInside];
    //: [myQrBtn setImage:[UIImage imageNamed:@"my_qr"] forState:UIControlStateNormal];
    [myQrBtn setImage:[UIImage imageNamed:StringFromSkinColorData(kStr_infoAddData)] forState:UIControlStateNormal];
    //: [navview addSubview:myQrBtn];
    [navview addSubview:myQrBtn];


    //: UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice vg_statusBarHeight]), [[UIScreen mainScreen] bounds].size.width, 80)];
    UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(0, (44.0f + [UIDevice table]), [[UIScreen mainScreen] bounds].size.width, 80)];
    //: topview.backgroundColor = [UIColor whiteColor];
    topview.backgroundColor = [UIColor whiteColor];
    //: [self.view addSubview:topview];
    [self.view addSubview:topview];


    //: UIView *searchView = [[UIView alloc]initWithFrame:CGRectMake(15, 12, [[UIScreen mainScreen] bounds].size.width-30, 56)];
    UIView *searchView = [[UIView alloc]initWithFrame:CGRectMake(15, 12, [[UIScreen mainScreen] bounds].size.width-30, 56)];
    //: searchView.backgroundColor = [UIColor colorWithHexString:@"#FAF8FD"];
    searchView.backgroundColor = [UIColor isView:StringFromSkinColorData(kStr_successValue)];
    //: searchView.layer.cornerRadius = 28;
    searchView.layer.cornerRadius = 28;
    //: [topview addSubview:searchView];
    [topview addSubview:searchView];

    //: UIButton *btnScan = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *btnScan = [UIButton buttonWithType:UIButtonTypeCustom];
    //: [btnScan addTarget:self action:@selector(scan) forControlEvents:UIControlEventTouchUpInside];
    [btnScan addTarget:self action:@selector(customScan) forControlEvents:UIControlEventTouchUpInside];
    //: btnScan.frame = CGRectMake(15, 8, 40, 40);
    btnScan.frame = CGRectMake(15, 8, 40, 40);
    //: [btnScan setImage:[UIImage imageNamed:@"ic_scan"] forState:UIControlStateNormal];
    [btnScan setImage:[UIImage imageNamed:StringFromSkinColorData(kStr_myTitle)] forState:UIControlStateNormal];
    //: [searchView addSubview:btnScan];
    [searchView addSubview:btnScan];


    //: [searchView addSubview:self.textField];
    [searchView addSubview:self.textField];
    //: self.textField.frame = CGRectMake(30+40, 0, [[UIScreen mainScreen] bounds].size.width-60-90, 56);
    self.textField.frame = CGRectMake(30+40, 0, [[UIScreen mainScreen] bounds].size.width-60-90, 56);


    //: UIButton *btnSearch = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *btnSearch = [UIButton buttonWithType:UIButtonTypeCustom];
    //: btnSearch.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-60-8, 8, 60, 40);
    btnSearch.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-60-8, 8, 60, 40);
    //: [btnSearch setImage:[UIImage imageNamed:@"icon_search_w"] forState:UIControlStateNormal];
    [btnSearch setImage:[UIImage imageNamed:StringFromSkinColorData(kStr_itemMakeData)] forState:UIControlStateNormal];
    //: [btnSearch addTarget:self action:@selector(doneSearch) forControlEvents:UIControlEventTouchUpInside];
    [btnSearch addTarget:self action:@selector(headInput) forControlEvents:UIControlEventTouchUpInside];
    //: btnSearch.backgroundColor = [UIColor colorWithHexString:@"#B391FF"];
    btnSearch.backgroundColor = [UIColor isView:StringFromSkinColorData(kStr_pressText)];
    //: btnSearch.layer.cornerRadius = 20;
    btnSearch.layer.cornerRadius = 20;
    //: [searchView addSubview:btnSearch];
    [searchView addSubview:btnSearch];

    //: UIView *lineview = [[UIView alloc]initWithFrame:CGRectMake(0, 79, [[UIScreen mainScreen] bounds].size.width, 1)];
    UIView *lineview = [[UIView alloc]initWithFrame:CGRectMake(0, 79, [[UIScreen mainScreen] bounds].size.width, 1)];
    //: lineview.backgroundColor = [UIColor colorWithHexString:@"#EEEEEE"];
    lineview.backgroundColor = [UIColor isView:StringFromSkinColorData(kStr_keyValue)];
    //: [topview addSubview:lineview];
    [topview addSubview:lineview];

    //: UILabel *labRecommended = [[UILabel alloc] initWithFrame:CGRectMake(15, topview.bottom+10, 200, 20)];
    UILabel *labRecommended = [[UILabel alloc] initWithFrame:CGRectMake(15, topview.bottom+10, 200, 20)];
    //: labRecommended.font = [UIFont systemFontOfSize:14.f];
    labRecommended.font = [UIFont systemFontOfSize:14.f];
    //: labRecommended.textColor = [UIColor colorWithHexString:@"#2C3042"];
    labRecommended.textColor = [UIColor isView:StringFromSkinColorData(kStr_withMyTitle)];
    //: labRecommended.text = [FFFLanguageManager getTextWithKey:@"hot_guys"];
    labRecommended.text = [TeamManager sizeKey:StringFromSkinColorData(kStr_screenName)];
    //: [self.view addSubview:labRecommended];
    [self.view addSubview:labRecommended];

    //: self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15, (44.0f + [UIDevice vg_statusBarHeight])+110, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice vg_statusBarHeight])-110) style:UITableViewStyleGrouped];
    self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(15, (44.0f + [UIDevice table])+110, [[UIScreen mainScreen] bounds].size.width-30, [[UIScreen mainScreen] bounds].size.height-(44.0f + [UIDevice table])-110) style:UITableViewStyleGrouped];
    //: self.tableView.backgroundColor = [UIColor clearColor];
    self.tableView.backgroundColor = [UIColor clearColor];
    //: self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
    //: self.tableView.delegate = self;
    self.tableView.delegate = self;
    //: self.tableView.dataSource = self;
    self.tableView.dataSource = self;
    //: self.tableView.showsVerticalScrollIndicator = NO;
    self.tableView.showsVerticalScrollIndicator = NO;
    //: self.tableView.showsHorizontalScrollIndicator = NO;
    self.tableView.showsHorizontalScrollIndicator = NO;
    //: [self.view addSubview:self.tableView];
    [self.view addSubview:self.tableView];
    //: [self.tableView registerClass:[RecommendfriendTableViewCell class] forCellReuseIdentifier:@"RecommendfriendTableViewCell"];
    [self.tableView registerClass:[ByViewCell class] forCellReuseIdentifier:@"ByViewCell"];

    //: [self getNetServer];
    [self current];
}

//: - (void)gotoBack:(id)sender {
- (void)searchPressed:(id)sender {
    //: [self.navigationController popViewControllerAnimated:NO];
    [self.navigationController popViewControllerAnimated:NO];
}

//: - (void)QRCodeButtnClick
- (void)shouldString
{
//    [self.view addSubview:self.MyQRcodeView];
//    [self.MyQRcodeView animationShow];

    //: NTESUserQRCodeViewController *vc = [[NTESUserQRCodeViewController alloc]init];
    ChanceViewController *vc = [[ChanceViewController alloc]init];
    //: vc.userID = [[NIMSDK sharedSDK].loginManager currentAccount];
    vc.userID = [[NIMSDK sharedSDK].loginManager currentAccount];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)getNetServer{
- (void)current{

//    NSMutableDictionary *dict = @{}.mutableCopy;
//    dict[@"user_id"] = self.userId;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/recommend"] params:nil isShow:NO success:^(id responseObject) {
    [InfoManager enable:[NSString stringWithFormat:StringFromSkinColorData(kStr_greenValue)] sub:nil record:NO tapGetFailed:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSLog(@"%@",resultDict);
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict speedy:StringFromSkinColorData(kStr_spaceTingData)];
        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {

            //: self.friendList = [resultDict valueObjectForKey:@"data"];
            self.friendList = [resultDict straddle:StringFromSkinColorData(kStr_toName)];
            //: [self.tableView reloadData];
            [self.tableView reloadData];
        }

    //: } failed:^(id responseObject, NSError *error) {
    } failedSmartOccurrentSelectShowGet:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: -(void)scan{
-(void)customScan{
    //: CCCContactScanViewController *vc = [[CCCContactScanViewController alloc] init];
    MarginViewController *vc = [[MarginViewController alloc] init];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)doneSearch{
- (void)headInput{
    //: [self goSearch:_textField];
    [self value:_textField];
}

//: #pragma mark - UITextFieldDelegate
#pragma mark - UITextFieldDelegate

//: - (BOOL)textFieldShouldReturn:(UITextField *)textField{
- (BOOL)textFieldShouldReturn:(UITextField *)textField{
    //: [self goSearch:textField];
    [self value:textField];
    //: return YES;
    return YES;
}

//: - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
    //: return YES;
    return YES;
}

//: -(void)goSearch:(UITextField *)textField{
-(void)value:(UITextField *)textField{
    //: [self.view endEditing:YES];
    [self.view endEditing:YES];
    //: NSString *userId = [textField.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    NSString *userId = [textField.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    //: if (userId.length) {
    if (userId.length) {
        //: userId = [userId lowercaseString];
        userId = [userId lowercaseString];
        //: [self addFriend:userId];
        [self medicinalDrugCellCrony:userId];
    }
}

//: #pragma mark - UITableViewDelegate
#pragma mark - UITableViewDelegate
//: - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    //: return self.friendList.count;
    return self.friendList.count;
}

//: - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    //: return 1;
    return 1;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {

    //: return 72;
    return 72;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{
    //: return 12.f;
    return 12.f;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
    //: UIView *backView = [UIView new];
    UIView *backView = [UIView new];
    //: backView.backgroundColor = [UIColor clearColor];
    backView.backgroundColor = [UIColor clearColor];
    //: return backView;
    return backView;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    //: return .1f;
    return .1f;
}

//: - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    //: UIView *backView = [UIView new];
    UIView *backView = [UIView new];
    //: backView.backgroundColor = [UIColor clearColor];
    backView.backgroundColor = [UIColor clearColor];
    //: return backView;
    return backView;
}

//: - (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
- (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    //: RecommendfriendTableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:@"RecommendfriendTableViewCell" forIndexPath:indexPath];
    ByViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:@"ByViewCell" forIndexPath:indexPath];
    //: cell.selectionStyle = UITableViewCellSelectionStyleNone;
    cell.selectionStyle = UITableViewCellSelectionStyleNone;
    //: cell.delegate = self;
    cell.delegate = self;

    //: NSDictionary *dic = self.friendList[indexPath.section];
    NSDictionary *dic = self.friendList[indexPath.section];
//    NSString *uId = [dic newStringValueForKey:@"id"];

    //: [cell refreshWithModel:dic];
    [cell along:dic];

    //: return cell;
    return cell;
}

//: - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

    //: NSDictionary *dic = self.friendList[indexPath.section];
    NSDictionary *dic = self.friendList[indexPath.section];
    //: NSString *uId = [dic newStringValueForKey:@"id"];
    NSString *uId = [dic speedy:@"id"];

//    BOOL isMyFriend = [[NIMSDK sharedSDK].userManager isMyFriend:uId];
//    if (isMyFriend) {
        //: NTESPersonalCardViewController *vc = [[NTESPersonalCardViewController alloc] initWithUserId:uId];
        IndependentViewController *vc = [[IndependentViewController alloc] initWithDoingTo:uId];
        //: [self.navigationController pushViewController:vc animated:YES];
        [self.navigationController pushViewController:vc animated:YES];
//    }else{
//        BarViewController *vc = [[BarViewController alloc] initWithUserId:uId];
//        [self.navigationController pushViewController:vc animated:YES];
//    }

}

//: - (void)didTouchAdddButton:(NSString *)memberId
- (void)languaged:(NSString *)memberId
{
    //: NSString *tempVerificationInfo = [NIMUserDefaults standardUserDefaults].tempVerificationInfo;
    NSString *tempVerificationInfo = [BlondeDefaults phone].tempVerificationInfo;
    //: NIMUserRequest *request = [[NIMUserRequest alloc] init];
    NIMUserRequest *request = [[NIMUserRequest alloc] init];
    //: request.userId = memberId;
    request.userId = memberId;
    //: request.operation = NIMUserOperationAdd;
    request.operation = NIMUserOperationAdd;
    //: request.operation = NIMUserOperationRequest;
    request.operation = NIMUserOperationRequest;
    //: request.message = tempVerificationInfo.length > 0 ? tempVerificationInfo : @"";
    request.message = tempVerificationInfo.length > 0 ? tempVerificationInfo : @"";

    //: NSString *contact_tag_fragment_add_success = [FFFLanguageManager getTextWithKey:@"contact_tag_fragment_add_success"];
    NSString *contact_tag_fragment_add_success = [TeamManager sizeKey:StringFromSkinColorData(kStr_withShouldName)];//@"æ·»å æå".
    //: NSString *request_successful = [FFFLanguageManager getTextWithKey:@"request_successful"];
    NSString *request_successful = [TeamManager sizeKey:StringFromSkinColorData(kStr_videoTitle)];//@"è¯·æ±æå".
    //: NSString *add_friend_add_fail = [FFFLanguageManager getTextWithKey:@"add_friend_add_fail"];
    NSString *add_friend_add_fail = [TeamManager sizeKey:StringFromSkinColorData(kStr_successChildName)];//@"æ·»å å¤±è´¥".
    //: NSString *add_friend_request_fail = [FFFLanguageManager getTextWithKey:@"add_friend_request_fail"];
    NSString *add_friend_request_fail = [TeamManager sizeKey:StringFromSkinColorData(kStr_myValue)];//@"è¯·æ±å¤±è´¥".
    //: NSString *successText = request.operation == NIMUserOperationAdd ? contact_tag_fragment_add_success: request_successful;
    NSString *successText = request.operation == NIMUserOperationAdd ? contact_tag_fragment_add_success: request_successful;
    //: NSString *failedText = request.operation == NIMUserOperationAdd ? add_friend_add_fail : add_friend_request_fail;
    NSString *failedText = request.operation == NIMUserOperationAdd ? add_friend_add_fail : add_friend_request_fail;

    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: [SVProgressHUD show];
    [SVProgressHUD show];

    //: [[NIMSDK sharedSDK].userManager requestFriend:request completion:^(NSError *error) {
    [[NIMSDK sharedSDK].userManager requestFriend:request completion:^(NSError *error) {
        //: [SVProgressHUD dismiss];
        [SVProgressHUD dismiss];
        //: if (!error) {
        if (!error) {
            //: [wself.view makeToast:successText
            [wself.view makeToast:successText
                         //: duration:2.0f
                         duration:2.0f
                         //: position:CSToastPositionCenter];
                         position:CSToastPositionCenter];
        //: }else{
        }else{
            //: [wself.view makeToast:failedText
            [wself.view makeToast:failedText
                         //: duration:2.0f
                         duration:2.0f
                         //: position:CSToastPositionCenter];
                         position:CSToastPositionCenter];
        }
    //: }];
    }];
}


//: - (UITextField *)textField{
- (UITextField *)textField{
    //: if(!_textField){
    if(!_textField){
        //: _textField = [[UITextField alloc]init];
        _textField = [[UITextField alloc]init];
        //: _textField.placeholder = [FFFLanguageManager getTextWithKey:@"add_friend_activity_input_account"];
        _textField.placeholder = [TeamManager sizeKey:StringFromSkinColorData(kStr_onValue)];
        //: _textField.textColor = [UIColor colorWithHexString:@"#333333"];
        _textField.textColor = [UIColor isView:StringFromSkinColorData(kStr_barData)];
        //: _textField.font = [UIFont systemFontOfSize:14];
        _textField.font = [UIFont systemFontOfSize:14];
        //: _textField.delegate = self;
        _textField.delegate = self;
        //: _textField.returnKeyType = UIReturnKeyDone;
        _textField.returnKeyType = UIReturnKeyDone;
    }
    //: return _textField;
    return _textField;
}

//: #pragma mark - Private
#pragma mark - Private
//: - (void)addFriend:(NSString *)userId
- (void)medicinalDrugCellCrony:(NSString *)userId
{
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: [dict setObject:userId forKey:@"account"];
    [dict setObject:userId forKey:StringFromSkinColorData(kStr_cellNameTitle)];
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/search"] params:dict isShow:YES success:^(id responseObject) {
    [InfoManager enable:[NSString stringWithFormat:StringFromSkinColorData(kStr_fileValue)] sub:dict record:YES tapGetFailed:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict speedy:StringFromSkinColorData(kStr_spaceTingData)];
        //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
        NSString *msg = [resultDict speedy:StringFromSkinColorData(kStr_infoName)];

        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {
            //: NSDictionary *data = [resultDict valueObjectForKey:@"data"];
            NSDictionary *data = [resultDict straddle:StringFromSkinColorData(kStr_toName)];
            //: NSString *uid = [data newStringValueForKey:@"uid"];
            NSString *uid = [data speedy:StringFromSkinColorData(kStr_willToName)];
            //: [wself sendAddrequest:uid];
            [wself accumulation:uid];

        //: }else {
        }else {

            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD rangeMessage:msg];

        }
    //: } failed:^(id responseObject, NSError *error) {
    } failedSmartOccurrentSelectShowGet:^(id responseObject, NSError *error) {

    //: }];
    }];

}

//: -(void)sendAddrequest:(NSString *)uid{
-(void)accumulation:(NSString *)uid{
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: [[NIMSDK sharedSDK].userManager fetchUserInfos:@[uid] completion:^(NSArray *users, NSError *error) {
    [[NIMSDK sharedSDK].userManager fetchUserInfos:@[uid] completion:^(NSArray *users, NSError *error) {
        //: [SVProgressHUD dismiss];
        [SVProgressHUD dismiss];
        //: if (users.count) {
        if (users.count) {
            //: [self checkIsAdmin:uid];
            [self individual:uid];
        //: }else{
        }else{
            //: if (wself) {
            if (wself) {
                //: [wself.view makeToast:[FFFLanguageManager getTextWithKey:@"group_info_activity_number_no"] duration:2.0 position:CSToastPositionCenter];
                [wself.view makeToast:[TeamManager sizeKey:StringFromSkinColorData(kStr_fileShouldText)] duration:2.0 position:CSToastPositionCenter];
            }
        }
    //: }];
    }];
}

//: -(void)checkIsAdmin:(NSString *)userId{
-(void)individual:(NSString *)userId{

    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"fuid"] = [[NIMSDK sharedSDK].loginManager currentAccount];
    dict[StringFromSkinColorData(kStr_spaceName)] = [[NIMSDK sharedSDK].loginManager currentAccount];
    //: dict[@"tuid"] = userId;
    dict[StringFromSkinColorData(kStr_withName)] = userId;

    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/checkAddFriendEx"] params:dict isShow:NO success:^(id responseObject) {
    [InfoManager enable:[NSString stringWithFormat:StringFromSkinColorData(kStr_kitData)] sub:dict record:NO tapGetFailed:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict speedy:StringFromSkinColorData(kStr_spaceTingData)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
            //è·³è½¬è¯¦æ

            //: BOOL isMyFriend = [[NIMSDK sharedSDK].userManager isMyFriend:userId];
            BOOL isMyFriend = [[NIMSDK sharedSDK].userManager isMyFriend:userId];
            //: if (isMyFriend) {
            if (isMyFriend) {
                //: NTESPersonalCardViewController *vc = [[NTESPersonalCardViewController alloc] initWithUserId:userId];
                IndependentViewController *vc = [[IndependentViewController alloc] initWithDoingTo:userId];
                //: [wself.navigationController pushViewController:vc animated:YES];
                [wself.navigationController pushViewController:vc animated:YES];
            //: }else{
            }else{
                //: ZMONFriendCardViewController *vc = [[ZMONFriendCardViewController alloc] initWithUserId:userId];
                BarViewController *vc = [[BarViewController alloc] initWithView:userId];
                //: [wself.navigationController pushViewController:vc animated:YES];
                [wself.navigationController pushViewController:vc animated:YES];
            }


        //: }else{
        }else{
            //: [wself.view makeToast:[FFFLanguageManager getTextWithKey:@"please_contact_your_administrator"] duration:2.0 position:CSToastPositionCenter];
            [wself.view makeToast:[TeamManager sizeKey:StringFromSkinColorData(kStr_optionData)] duration:2.0 position:CSToastPositionCenter];
        }
    //: } failed:^(id responseObject, NSError *error) {
    } failedSmartOccurrentSelectShowGet:^(id responseObject, NSError *error) {
        //: [wself.view makeToast:[FFFLanguageManager getTextWithKey:@"please_contact_your_administrator"] duration:2.0 position:CSToastPositionCenter];
        [wself.view makeToast:[TeamManager sizeKey:StringFromSkinColorData(kStr_optionData)] duration:2.0 position:CSToastPositionCenter];
    //: }];
    }];
}

//: - (ZMONMyQRcodeView *)MyQRcodeView
- (ImmobiliseView *)MyQRcodeView
{
    //: if(!_MyQRcodeView){
    if(!_MyQRcodeView){
        //: _MyQRcodeView = [[ZMONMyQRcodeView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        _MyQRcodeView = [[ImmobiliseView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
    }
    //: return _MyQRcodeView;
    return _MyQRcodeView;
}

//: @end
@end

Byte * SkinColorDataToCache(Byte *data) {
    int ruddy = data[0];
    int reload = data[1];
    Byte toName = data[2];
    int userTo = data[3];
    if (!ruddy) return data + userTo;
    for (int i = userTo; i < userTo + reload; i++) {
        int value = data[i] + toName;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[userTo + reload] = 0;
    return data + userTo;
}

NSString *StringFromSkinColorData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)SkinColorDataToCache(data)];
}
